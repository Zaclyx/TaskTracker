import{a as v,b as ve,c as _a,d as ii,e as pt,f as si,g as kn,i as Ea,j as Sa}from"./chunk-ZJ6SD4J5.js";import{c as ya,d as Lt,f as va,g as Ln}from"./chunk-3IZAG7U5.js";import{w as wa}from"./chunk-6XEJ4SZJ.js";import{g as Ta}from"./chunk-QLYKJOXW.js";import"./chunk-IEEKXR5F.js";import"./chunk-RQFMUMHO.js";import{$ as re,F as ei,Hb as ca,Ia as ia,K as ti,Kb as Dn,Lb as ua,Mb as la,Nb as ha,Ob as da,P as Xo,Qb as fa,R as A,Rb as pa,Sb as ma,T as te,Tb as ga,U as ne,Ub as On,V as Cn,W as Y,X as Zo,Y as Fe,Zb as Ia,_ as ea,a as ft,b as jo,bc as oi,c as zo,f as d,g as Ye,ga as Pn,i as Wo,ja as ta,k as Ko,ka as ni,l as Ho,n as Jr,o as Xr,ob as sa,p as Zr,pa as Nn,pb as oa,q as Qo,r as Yo,ra as na,rb as aa,ta as ra,u as Jo,va as De,xb as ri}from"./chunk-L3PLJJSQ.js";function Aa(t){return new A(3e3,!1)}function Vl(){return new A(3100,!1)}function Fl(){return new A(3101,!1)}function Ul(t){return new A(3001,!1)}function Bl(t){return new A(3003,!1)}function ql(t){return new A(3004,!1)}function $l(t,e){return new A(3005,!1)}function Gl(){return new A(3006,!1)}function jl(){return new A(3007,!1)}function zl(t,e){return new A(3008,!1)}function Wl(t){return new A(3002,!1)}function Kl(t,e,n,r,i){return new A(3010,!1)}function Hl(){return new A(3011,!1)}function Ql(){return new A(3012,!1)}function Yl(){return new A(3200,!1)}function Jl(){return new A(3202,!1)}function Xl(){return new A(3013,!1)}function Zl(t){return new A(3014,!1)}function eh(t){return new A(3015,!1)}function th(t){return new A(3016,!1)}function nh(t,e){return new A(3404,!1)}function rh(t){return new A(3502,!1)}function ih(t){return new A(3503,!1)}function sh(){return new A(3300,!1)}function oh(t){return new A(3504,!1)}function ah(t){return new A(3301,!1)}function ch(t,e){return new A(3302,!1)}function uh(t){return new A(3303,!1)}function lh(t,e){return new A(3400,!1)}function hh(t){return new A(3401,!1)}function dh(t){return new A(3402,!1)}function fh(t,e){return new A(3505,!1)}function Ue(t){switch(t.length){case 0:return new pt;case 1:return t[0];default:return new si(t)}}function Ua(t,e,n=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(c=>{let u=c.get("offset"),l=u==o,h=l&&a||new Map;c.forEach((g,_)=>{let p=_,E=g;if(_!=="offset")switch(p=t.normalizePropertyName(p,i),E){case kn:E=n.get(_);break;case ve:E=r.get(_);break;default:E=t.normalizeStyleValue(_,p,E,i);break}h.set(p,E)}),l||s.push(h),a=h,o=u}),i.length)throw rh(i);return s}function Pi(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&ai(n,"start",t)));break;case"done":t.onDone(()=>r(n&&ai(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&ai(n,"destroy",t)));break}}function ai(t,e,n){let r=n.totalTime,i=!!n.disabled,s=Ni(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),o=t._data;return o!=null&&(s._data=o),s}function Ni(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function ae(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function Ra(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var ph=typeof document>"u"?null:document.documentElement;function Di(t){let e=t.parentNode||t.host||null;return e===ph?null:e}function mh(t){return t.substring(1,6)=="ebkit"}var Je=null,ba=!1;function gh(t){Je||(Je=_h()||{},ba=Je.style?"WebkitAppearance"in Je.style:!1);let e=!0;return Je.style&&!mh(t)&&(e=t in Je.style,!e&&ba&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Je.style)),e}function _h(){return typeof document<"u"?document.body:null}function Ba(t,e){for(;e;){if(e===t)return!0;e=Di(e)}return!1}function qa(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var Oi=(()=>{let e=class e{validateStyleProperty(r){return gh(r)}matchesElement(r,i){return!1}containsElement(r,i){return Ba(r,i)}getParentElement(r){return Di(r)}query(r,i,s){return qa(r,i,s)}computeStyle(r,i,s){return s||""}animate(r,i,s,o,a,c=[],u){return new pt(s,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})(),xi=class xi{};xi.NOOP=new Oi;var et=xi,tt=class{};var yh=1e3,$a="{{",Eh="}}",Ga="ng-enter",fi="ng-leave",Mn="ng-trigger",Bn=".ng-trigger",Ca="ng-animating",pi=".ng-animating";function Oe(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:mi(parseFloat(e[1]),e[2])}function mi(t,e){switch(e){case"s":return t*yh;default:return t}}function qn(t,e,n){return t.hasOwnProperty("duration")?t:Th(t,e,n)}function Th(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(Aa(t)),{duration:0,delay:0,easing:""};i=mi(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(s=mi(parseFloat(c),a[4]));let u=a[5];u&&(o=u)}else i=t;if(!n){let a=!1,c=e.length;i<0&&(e.push(Vl()),a=!0),s<0&&(e.push(Fl()),a=!0),a&&e.splice(c,0,Aa(t))}return{duration:i,delay:s,easing:o}}function Ih(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function we(t,e,n){e.forEach((r,i)=>{let s=ki(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function Ze(t,e){e.forEach((n,r)=>{let i=ki(r);t.style[i]=""})}function Mt(t){return Array.isArray(t)?t.length==1?t[0]:_a(t):t}function vh(t,e,n){let r=e.params||{},i=ja(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(Ul(s))})}var gi=new RegExp(`${$a}\\s*(.+?)\\s*${Eh}`,"g");function ja(t){let e=[];if(typeof t=="string"){let n;for(;n=gi.exec(t);)e.push(n[1]);gi.lastIndex=0}return e}function Vt(t,e,n){let r=`${t}`,i=r.replace(gi,(s,o)=>{let a=e[o];return a==null&&(n.push(Bl(o)),a=""),a.toString()});return i==r?t:i}var wh=/-+([a-z0-9])/g;function ki(t){return t.replace(wh,(...e)=>e[1].toUpperCase())}function Sh(t,e){return t===0||e===0}function Ah(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,Li(t,a)))}}return e}function oe(t,e,n){switch(e.type){case v.Trigger:return t.visitTrigger(e,n);case v.State:return t.visitState(e,n);case v.Transition:return t.visitTransition(e,n);case v.Sequence:return t.visitSequence(e,n);case v.Group:return t.visitGroup(e,n);case v.Animate:return t.visitAnimate(e,n);case v.Keyframes:return t.visitKeyframes(e,n);case v.Style:return t.visitStyle(e,n);case v.Reference:return t.visitReference(e,n);case v.AnimateChild:return t.visitAnimateChild(e,n);case v.AnimateRef:return t.visitAnimateRef(e,n);case v.Query:return t.visitQuery(e,n);case v.Stagger:return t.visitStagger(e,n);default:throw ql(e.type)}}function Li(t,e){return window.getComputedStyle(t)[e]}var Rh=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),$n=class extends tt{normalizePropertyName(e,n){return ki(e)}normalizeStyleValue(e,n,r,i){let s="",o=r.toString().trim();if(Rh.has(n)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push($l(e,r))}return o+s}};var Gn="*";function bh(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>Ch(r,n,e)):n.push(t),n}function Ch(t,e,n){if(t[0]==":"){let c=Ph(t,n);if(typeof c=="function"){e.push(c);return}t=c}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(eh(t)),e;let i=r[1],s=r[2],o=r[3];e.push(Pa(i,o));let a=i==Gn&&o==Gn;s[0]=="<"&&!a&&e.push(Pa(o,i))}function Ph(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(th(t)),"* => *"}}var xn=new Set(["true","1"]),Vn=new Set(["false","0"]);function Pa(t,e){let n=xn.has(t)||Vn.has(t),r=xn.has(e)||Vn.has(e);return(i,s)=>{let o=t==Gn||t==i,a=e==Gn||e==s;return!o&&n&&typeof i=="boolean"&&(o=i?xn.has(t):Vn.has(t)),!a&&r&&typeof s=="boolean"&&(a=s?xn.has(e):Vn.has(e)),o&&a}}var za=":self",Nh=new RegExp(`s*${za}s*,?`,"g");function Wa(t,e,n,r){return new _i(t).build(e,n,r)}var Na="",_i=class{constructor(e){this._driver=e}build(e,n,r){let i=new yi(n);return this._resetContextStyleTimingState(i),oe(this,Mt(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=Na,e.collectedStyles=new Map,e.collectedStyles.set(Na,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&n.errors.push(Gl()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==v.State){let c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(l=>{c.name=l,s.push(this.visitState(c,n))}),c.name=u}else if(a.type==v.Transition){let c=this.visitTransition(a,n);r+=c.queryCount,i+=c.depCount,o.push(c)}else n.errors.push(jl())}),{type:v.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{ja(c).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&n.errors.push(zl(e.name,[...s.values()]))}return{type:v.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=oe(this,Mt(e.animation),n),i=bh(e.expr,n.errors);return{type:v.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Xe(e.options)}}visitSequence(e,n){return{type:v.Sequence,steps:e.steps.map(r=>oe(this,r,n)),options:Xe(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,s=e.steps.map(o=>{n.currentTime=r;let a=oe(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:v.Group,steps:s,options:Xe(e.options)}}visitAnimate(e,n){let r=Lh(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:ii({});if(s.type==v.Keyframes)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;let u={};r.easing&&(u.easing=r.easing),o=ii(u)}n.currentTime+=r.duration+r.delay;let c=this.visitStyle(o,n);c.isEmptyStep=a,i=c}return n.currentAnimateTimings=null,{type:v.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===ve?r.push(a):n.errors.push(Wl(a)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let c of a.values())if(c.toString().indexOf($a)>=0){s=!0;break}}}),{type:v.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,c)=>{let u=n.collectedStyles.get(n.currentQuerySelector),l=u.get(c),h=!0;l&&(s!=i&&s>=l.startTime&&i<=l.endTime&&(n.errors.push(Kl(c,l.startTime,l.endTime,s,i)),h=!1),s=l.startTime),h&&u.set(c,{startTime:s,endTime:i}),n.options&&vh(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:v.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(Hl()),r;let i=1,s=0,o=[],a=!1,c=!1,u=0,l=e.steps.map(k=>{let M=this._makeStyleAst(k,n),V=M.offset!=null?M.offset:kh(M.styles),x=0;return V!=null&&(s++,x=M.offset=V),c=c||x<0||x>1,a=a||x<u,u=x,o.push(x),M});c&&n.errors.push(Ql()),a&&n.errors.push(Yl());let h=e.steps.length,g=0;s>0&&s<h?n.errors.push(Jl()):s==0&&(g=i/(h-1));let _=h-1,p=n.currentTime,E=n.currentAnimateTimings,P=E.duration;return l.forEach((k,M)=>{let V=g>0?M==_?1:g*M:o[M],x=V*P;n.currentTime=p+E.delay+x,E.duration=x,this._validateStyleAst(k,n),k.offset=V,r.styles.push(k)}),r}visitReference(e,n){return{type:v.Reference,animation:oe(this,Mt(e.animation),n),options:Xe(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:v.AnimateChild,options:Xe(e.options)}}visitAnimateRef(e,n){return{type:v.AnimateRef,animation:this.visitReference(e.animation,n),options:Xe(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[s,o]=Dh(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,ae(n.collectedStyles,n.currentQuerySelector,new Map);let a=oe(this,Mt(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:v.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Xe(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(Xl());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:qn(e.timings,n.errors,!0);return{type:v.Stagger,animation:oe(this,Mt(e.animation),n),timings:r,options:null}}};function Dh(t){let e=!!t.split(/\s*,\s*/).find(n=>n==za);return e&&(t=t.replace(Nh,"")),t=t.replace(/@\*/g,Bn).replace(/@\w+/g,n=>Bn+"-"+n.slice(1)).replace(/:animating/g,pi),[t,e]}function Oh(t){return t?ft({},t):null}var yi=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function kh(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function Lh(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let s=qn(t,e).duration;return ci(s,0,"")}let n=t;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=ci(0,0,"");return s.dynamic=!0,s.strValue=n,s}let i=qn(n,e);return ci(i.duration,i.delay,i.easing)}function Xe(t){return t?(t=ft({},t),t.params&&(t.params=Oh(t.params))):t={},t}function ci(t,e,n){return{duration:t,delay:e,easing:n}}function Mi(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var Ft=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Mh=1,xh=":enter",Vh=new RegExp(xh,"g"),Fh=":leave",Uh=new RegExp(Fh,"g");function Ka(t,e,n,r,i,s=new Map,o=new Map,a,c,u=[]){return new Ei().buildKeyframes(t,e,n,r,i,s,o,a,c,u)}var Ei=class{buildKeyframes(e,n,r,i,s,o,a,c,u,l=[]){u=u||new Ft;let h=new Ti(e,n,u,i,s,l,[]);h.options=c;let g=c.delay?Oe(c.delay):0;h.currentTimeline.delayNextStep(g),h.currentTimeline.setStyles([o],null,h.errors,c),oe(this,r,h);let _=h.timelines.filter(p=>p.containsAnimation());if(_.length&&a.size){let p;for(let E=_.length-1;E>=0;E--){let P=_[E];if(P.element===n){p=P;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,h.errors,c)}return _.length?_.map(p=>p.buildKeyframes()):[Mi(n,[],[],[],0,g,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:Oe(Vt(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime,o=r.duration!=null?Oe(r.duration):null,a=r.delay!=null?Oe(r.delay):null;return o!==0&&e.forEach(c=>{let u=n.appendInstructionToTimeline(c,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),oe(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==v.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=jn);let o=Oe(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>oe(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,s=e.options&&e.options.delay?Oe(e.options.delay):0;e.steps.forEach(o=>{let a=n.createSubContext(e.options);s&&a.delayNextStep(s),oe(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?Vt(r,n.params,n.errors):r;return qn(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==v.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let u=c.offset||0;a.forwardTime(u*s),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?Oe(i.delay):0;s&&(n.previousNode.type===v.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=jn);let o=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((u,l)=>{n.currentQueryIndex=l;let h=n.createSubContext(e.options,u);s&&h.delayNextStep(s),u===n.element&&(c=h.currentTimeline),oe(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe();let g=h.currentTimeline.currentTime;o=Math.max(o,g)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),c=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let l=n.currentTimeline;c&&l.delayNextStep(c);let h=l.currentTime;oe(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-h+(i.startTime-r.currentTimeline.startTime)}},jn={},Ti=class t{constructor(e,n,r,i,s,o,a,c){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=jn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new zn(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Oe(r.duration)),r.delay!=null&&(i.delay=Oe(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=Vt(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,s=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=jn,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new Ii(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(Vh,"."+this._enterClassName),e=e.replace(Uh,"."+this._leaveClassName);let c=r!=1,u=this._driver.query(this.element,e,c);r!==0&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!s&&a.length==0&&o.push(Zl(n)),a}},zn=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Mh,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||ve),this._currentKeyframe.set(n,ve);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let s=i&&i.params||{},o=Bh(e,this._globalTimelineStyles);for(let[a,c]of o){let u=Vt(c,s,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ve),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let u=new Map([...this._backFill,...a]);u.forEach((l,h)=>{l===kn?e.add(h):l===ve&&n.add(h)}),r||u.set("offset",c/this.duration),i.push(u)});let s=[...e.values()],o=[...n.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return Mi(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},Ii=class extends zn{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=r+n,a=n/o,c=new Map(e[0]);c.set("offset",0),s.push(c);let u=new Map(e[0]);u.set("offset",Da(a)),s.push(u);let l=e.length-1;for(let h=1;h<=l;h++){let g=new Map(e[h]),_=g.get("offset"),p=n+_*r;g.set("offset",Da(p/o)),s.push(g)}r=o,n=0,i="",e=s}return Mi(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function Da(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function Bh(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let s of r)n.set(s,ve)}else for(let[s,o]of i)n.set(s,o)}),n}function Oa(t,e,n,r,i,s,o,a,c,u,l,h,g){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:g}}var ui={},Wn=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return qh(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,c,u,l){let h=[],g=this.ast.options&&this.ast.options.params||ui,_=a&&a.params||ui,p=this.buildStyles(r,_,h),E=c&&c.params||ui,P=this.buildStyles(i,E,h),k=new Set,M=new Map,V=new Map,x=i==="void",Ne={params:Ha(E,g),delay:this.ast.options?.delay},ee=l?[]:Ka(e,n,this.ast.animation,s,o,p,P,Ne,u,h),U=0;return ee.forEach(H=>{U=Math.max(H.duration+H.delay,U)}),h.length?Oa(n,this._triggerName,r,i,x,p,P,[],[],M,V,U,h):(ee.forEach(H=>{let ge=H.element,xe=ae(M,ge,new Set);H.preStyleProps.forEach(He=>xe.add(He));let Bo=ae(V,ge,new Set);H.postStyleProps.forEach(He=>Bo.add(He)),ge!==n&&k.add(ge)}),Oa(n,this._triggerName,r,i,x,p,P,ee,[...k.values()],M,V,U))}};function qh(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}function Ha(t,e){let n=ft({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var vi=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=Ha(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Vt(o,i,n));let c=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,c,o,n),r.set(a,o)})}),r}};function $h(t,e,n){return new wi(t,e,n)}var wi=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new vi(i.style,s,r))}),ka(this.states,"true","1"),ka(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new Wn(e,i,this.states))}),this.fallbackTransition=Gh(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function Gh(t,e,n){let r=[(o,a)=>!0],i={type:v.Sequence,steps:[],options:null},s={type:v.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Wn(t,s,e)}function ka(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var jh=new Ft,Si=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],s=Wa(this._driver,n,r,i);if(r.length)throw ih(r);i.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,n,r){let i=e.element,s=Ua(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=Ka(this._driver,n,s,Ga,fi,new Map,new Map,r,jh,i),o.forEach(l=>{let h=ae(a,l.element,new Map);l.postStyleProps.forEach(g=>h.set(g,null))})):(i.push(sh()),o=[]),i.length)throw oh(i);a.forEach((l,h)=>{l.forEach((g,_)=>{l.set(_,this._driver.computeStyle(h,_,ve))})});let c=o.map(l=>{let h=a.get(l.element);return this._buildPlayer(l,new Map,h)}),u=Ue(c);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw ah(e);return n}listen(e,n,r,i){let s=Ni(n,"","","");return Pi(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(e,n,o);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},La="ng-animate-queued",zh=".ng-animate-queued",li="ng-animate-disabled",Wh=".ng-animate-disabled",Kh="ng-star-inserted",Hh=".ng-star-inserted",Qh=[],Qa={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Yh={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_e="__ng_removed",Ut=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=Xh(i),r){let s=e,{value:o}=s,a=zo(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},xt="void",hi=new Ut(xt),Ai=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,he(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw ch(r,n);if(r==null||r.length==0)throw uh(n);if(!Zh(r))throw lh(r,n);let s=ae(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);let a=ae(this._engine.statesByElement,e,new Map);return a.has(n)||(he(e,Mn),he(e,Mn+"-"+n),a.set(n,hi)),()=>{this._engine.afterFlush(()=>{let c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw hh(e);return n}trigger(e,n,r,i=!0){let s=this._getTrigger(n),o=new Bt(this.id,n,e),a=this._engine.statesByElement.get(e);a||(he(e,Mn),he(e,Mn+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),u=new Ut(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(n,u),c||(c=hi),!(u.value===xt)&&c.value===u.value){if(!nd(c.params,u.params)){let E=[],P=s.matchStyles(c.value,c.params,E),k=s.matchStyles(u.value,u.params,E);E.length?this._engine.reportError(E):this._engine.afterFlush(()=>{Ze(e,P),we(e,k)})}return}let g=ae(this._engine.playersByElement,e,[]);g.forEach(E=>{E.namespaceId==this.id&&E.triggerName==n&&E.queued&&E.destroy()});let _=s.matchTransition(c.value,u.value,e,u.params),p=!1;if(!_){if(!i)return;_=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:_,fromState:c,toState:u,player:o,isFallbackTransition:p}),p||(he(e,La),o.onStart(()=>{mt(e,La)})),o.onDone(()=>{let E=this.players.indexOf(o);E>=0&&this.players.splice(E,1);let P=this._engine.playersByElement.get(e);if(P){let k=P.indexOf(o);k>=0&&P.splice(k,1)}}),this.players.push(o),g.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,Bn,!0);r.forEach(i=>{if(i[_e])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((c,u)=>{if(o.set(u,c.value),this._triggers.has(u)){let l=this.trigger(e,u,xt,i);l&&a.push(l)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&Ue(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let c=this._triggers.get(o).fallbackTransition,u=r.get(o)||hi,l=new Ut(xt),h=new Bt(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:u,toState:l,player:h,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let s=e[_e];(!s||s===Qa)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){he(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let c=Ni(s,r.triggerName,r.fromState.value,r.toState.value);c._data=e,Pi(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Ri=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r,i){this.bodyNode=e,this.driver=n,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new Ai(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let c=i.get(a);if(c){let u=r.indexOf(c);r.splice(u+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}}return n}trigger(e,n,r,i){if(Fn(n)){let s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!Fn(n))return;let s=n[_e];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),he(e,li)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),mt(e,li))}removeNode(e,n,r){if(Fn(n)){this.scheduler?.notify();let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[_e]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return Fn(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,Bn,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,pi,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ue(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[_e];if(n&&n.setForRemoval){if(e[_e]=Qa,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(li)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Wh,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];he(i,Kh)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?Ue(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw dh(e)}_flushAnimations(e,n){let r=new Ft,i=[],s=new Map,o=[],a=new Map,c=new Map,u=new Map,l=new Set;this.disabledNodes.forEach(m=>{l.add(m);let y=this.driver.query(m,zh,!0);for(let T=0;T<y.length;T++)l.add(y[T])});let h=this.bodyNode,g=Array.from(this.statesByElement.keys()),_=Va(g,this.collectedEnterElements),p=new Map,E=0;_.forEach((m,y)=>{let T=Ga+E++;p.set(y,T),m.forEach(S=>he(S,T))});let P=[],k=new Set,M=new Set;for(let m=0;m<this.collectedLeaveElements.length;m++){let y=this.collectedLeaveElements[m],T=y[_e];T&&T.setForRemoval&&(P.push(y),k.add(y),T.hasAnimation?this.driver.query(y,Hh,!0).forEach(S=>k.add(S)):M.add(y))}let V=new Map,x=Va(g,Array.from(k));x.forEach((m,y)=>{let T=fi+E++;V.set(y,T),m.forEach(S=>he(S,T))}),e.push(()=>{_.forEach((m,y)=>{let T=p.get(y);m.forEach(S=>mt(S,T))}),x.forEach((m,y)=>{let T=V.get(y);m.forEach(S=>mt(S,T))}),P.forEach(m=>{this.processLeaveNode(m)})});let Ne=[],ee=[];for(let m=this._namespaceList.length-1;m>=0;m--)this._namespaceList[m].drainQueuedTransitions(n).forEach(T=>{let S=T.player,B=T.element;if(Ne.push(S),this.collectedEnterElements.length){let Q=B[_e];if(Q&&Q.setForMove){if(Q.previousTriggersValues&&Q.previousTriggersValues.has(T.triggerName)){let Qe=Q.previousTriggersValues.get(T.triggerName),le=this.statesByElement.get(T.element);if(le&&le.has(T.triggerName)){let bn=le.get(T.triggerName);bn.value=Qe,le.set(T.triggerName,bn)}}S.destroy();return}}let Ie=!h||!this.driver.containsElement(h,B),se=V.get(B),Ve=p.get(B),O=this._buildInstruction(T,r,Ve,se,Ie);if(O.errors&&O.errors.length){ee.push(O);return}if(Ie){S.onStart(()=>Ze(B,O.fromStyles)),S.onDestroy(()=>we(B,O.toStyles)),i.push(S);return}if(T.isFallbackTransition){S.onStart(()=>Ze(B,O.fromStyles)),S.onDestroy(()=>we(B,O.toStyles)),i.push(S);return}let Go=[];O.timelines.forEach(Q=>{Q.stretchStartingKeyframe=!0,this.disabledNodes.has(Q.element)||Go.push(Q)}),O.timelines=Go,r.append(B,O.timelines);let xl={instruction:O,player:S,element:B};o.push(xl),O.queriedElements.forEach(Q=>ae(a,Q,[]).push(S)),O.preStyleProps.forEach((Q,Qe)=>{if(Q.size){let le=c.get(Qe);le||c.set(Qe,le=new Set),Q.forEach((bn,Yr)=>le.add(Yr))}}),O.postStyleProps.forEach((Q,Qe)=>{let le=u.get(Qe);le||u.set(Qe,le=new Set),Q.forEach((bn,Yr)=>le.add(Yr))})});if(ee.length){let m=[];ee.forEach(y=>{m.push(fh(y.triggerName,y.errors))}),Ne.forEach(y=>y.destroy()),this.reportError(m)}let U=new Map,H=new Map;o.forEach(m=>{let y=m.element;r.has(y)&&(H.set(y,y),this._beforeAnimationBuild(m.player.namespaceId,m.instruction,U))}),i.forEach(m=>{let y=m.element;this._getPreviousPlayers(y,!1,m.namespaceId,m.triggerName,null).forEach(S=>{ae(U,y,[]).push(S),S.destroy()})});let ge=P.filter(m=>Fa(m,c,u)),xe=new Map;xa(xe,this.driver,M,u,ve).forEach(m=>{Fa(m,c,u)&&ge.push(m)});let He=new Map;_.forEach((m,y)=>{xa(He,this.driver,new Set(m),c,kn)}),ge.forEach(m=>{let y=xe.get(m),T=He.get(m);xe.set(m,new Map([...y?.entries()??[],...T?.entries()??[]]))});let Qr=[],qo=[],$o={};o.forEach(m=>{let{element:y,player:T,instruction:S}=m;if(r.has(y)){if(l.has(y)){T.onDestroy(()=>we(y,S.toStyles)),T.disabled=!0,T.overrideTotalTime(S.totalTime),i.push(T);return}let B=$o;if(H.size>1){let se=y,Ve=[];for(;se=se.parentNode;){let O=H.get(se);if(O){B=O;break}Ve.push(se)}Ve.forEach(O=>H.set(O,B))}let Ie=this._buildAnimation(T.namespaceId,S,U,s,He,xe);if(T.setRealPlayer(Ie),B===$o)Qr.push(T);else{let se=this.playersByElement.get(B);se&&se.length&&(T.parentPlayer=Ue(se)),i.push(T)}}else Ze(y,S.fromStyles),T.onDestroy(()=>we(y,S.toStyles)),qo.push(T),l.has(y)&&i.push(T)}),qo.forEach(m=>{let y=s.get(m.element);if(y&&y.length){let T=Ue(y);m.setRealPlayer(T)}}),i.forEach(m=>{m.parentPlayer?m.syncPlayerEvents(m.parentPlayer):m.destroy()});for(let m=0;m<P.length;m++){let y=P[m],T=y[_e];if(mt(y,fi),T&&T.hasAnimation)continue;let S=[];if(a.size){let Ie=a.get(y);Ie&&Ie.length&&S.push(...Ie);let se=this.driver.query(y,pi,!0);for(let Ve=0;Ve<se.length;Ve++){let O=a.get(se[Ve]);O&&O.length&&S.push(...O)}}let B=S.filter(Ie=>!Ie.destroyed);B.length?ed(this,y,B):this.processLeaveNode(y)}return P.length=0,Qr.forEach(m=>{this.players.push(m),m.onDone(()=>{m.destroy();let y=this.players.indexOf(m);this.players.splice(y,1)}),m.play()}),Qr}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let c=!s||s==xt;a.forEach(u=>{u.queued||!c&&u.triggerName!=i||o.push(u)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){let i=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let c of n.timelines){let u=c.element,l=u!==s,h=ae(r,u,[]);this._getPreviousPlayers(u,l,o,a,n.toState).forEach(_=>{let p=_.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),_.destroy(),h.push(_)})}Ze(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){let a=n.triggerName,c=n.element,u=[],l=new Set,h=new Set,g=n.timelines.map(p=>{let E=p.element;l.add(E);let P=E[_e];if(P&&P.removedBeforeQueried)return new pt(p.duration,p.delay);let k=E!==c,M=td((r.get(E)||Qh).map(U=>U.getRealPlayer())).filter(U=>{let H=U;return H.element?H.element===E:!1}),V=s.get(E),x=o.get(E),Ne=Ua(this._normalizer,p.keyframes,V,x),ee=this._buildPlayer(p,Ne,M);if(p.subTimeline&&i&&h.add(E),k){let U=new Bt(e,a,E);U.setRealPlayer(ee),u.push(U)}return ee});u.forEach(p=>{ae(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>Jh(this.playersByQueriedElement,p.element,p))}),l.forEach(p=>he(p,Ca));let _=Ue(g);return _.onDestroy(()=>{l.forEach(p=>mt(p,Ca)),we(c,n.toStyles)}),h.forEach(p=>{ae(i,p,[]).push(_)}),_}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new pt(e.duration,e.delay)}},Bt=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new pt,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>Pi(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){ae(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function Jh(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function Xh(t){return t??null}function Fn(t){return t&&t.nodeType===1}function Zh(t){return t=="start"||t=="done"}function Ma(t,e){let n=t.style.display;return t.style.display=e??"none",n}function xa(t,e,n,r,i){let s=[];n.forEach(c=>s.push(Ma(c)));let o=[];r.forEach((c,u)=>{let l=new Map;c.forEach(h=>{let g=e.computeStyle(u,h,i);l.set(h,g),(!g||g.length==0)&&(u[_e]=Yh,o.push(u))}),t.set(u,l)});let a=0;return n.forEach(c=>Ma(c,s[a++])),o}function Va(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let c=s.get(a);if(c)return c;let u=a.parentNode;return n.has(u)?c=u:i.has(u)?c=r:c=o(u),s.set(a,c),c}return e.forEach(a=>{let c=o(a);c!==r&&n.get(c).push(a)}),n}function he(t,e){t.classList?.add(e)}function mt(t,e){t.classList?.remove(e)}function ed(t,e,n){Ue(n).onDone(()=>t.processLeaveNode(e))}function td(t){let e=[];return Ya(t,e),e}function Ya(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof si?Ya(r.players,e):e.push(r)}}function nd(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}function Fa(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}var _t=class{constructor(e,n,r,i){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new Ri(e.body,n,r,i),this._timelineEngine=new Si(e.body,n,r),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,n,r,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let c=[],u=[],l=Wa(this._driver,s,c,u);if(c.length)throw nh(i,c);u.length&&void 0,a=$h(i,l,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[s,o]=Ra(r),a=i;this._timelineEngine.command(s,n,o,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if(r.charAt(0)=="@"){let[o,a]=Ra(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function rd(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=di(e[0]),e.length>1&&(r=di(e[e.length-1]))):e instanceof Map&&(n=di(e)),n||r?new bi(t,n,r):null}var gt=class gt{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=gt.initialStylesByElement.get(e);i||gt.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&we(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(we(this._element,this._initialStyles),this._endStyles&&(we(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(gt.initialStylesByElement.delete(this._element),this._startStyles&&(Ze(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ze(this._element,this._endStyles),this._endStyles=null),we(this._element,this._initialStyles),this._state=3)}};gt.initialStylesByElement=new WeakMap;var bi=gt;function di(t){let e=null;return t.forEach((n,r)=>{id(r)&&(e=e||new Map,e.set(r,n))}),e}function id(t){return t==="display"||t==="position"}var Kn=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:Li(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Hn=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return Ba(e,n)}getParentElement(e){return Di(e)}query(e,n,r){return qa(e,n,r)}computeStyle(e,n,r){return Li(e,n)}animate(e,n,r,i,s,o=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};s&&(c.easing=s);let u=new Map,l=o.filter(_=>_ instanceof Kn);Sh(r,i)&&l.forEach(_=>{_.currentSnapshot.forEach((p,E)=>u.set(E,p))});let h=Ih(n).map(_=>new Map(_));h=Ah(e,h,u);let g=rd(e,h);return new Kn(e,h,c,g)}};var Un="@",Ja="@.disabled",Qn=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==Un&&n==Ja?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},Ci=class extends Qn{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==Un?n.charAt(1)=="."&&n==Ja?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==Un){let i=sd(e),s=n.slice(1),o="";return s.charAt(0)!=Un&&([s,o]=od(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,n,r)}};function sd(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function od(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var Yn=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,s)=>{let o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let u=this._rendererCache,l=u.get(i);if(!l){let h=()=>u.delete(i);l=new Qn(r,i,this.engine,h),u.set(i,l)}return l}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(s,o,e,u.name,u)};return n.data.animation.forEach(a),new Ci(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var cd=(()=>{let e=class e extends _t{constructor(r,i,s){super(r,i,s,Zo(na,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(Y(ri),Y(et),Y(tt))},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})();function ud(){return new $n}function ld(t,e,n){return new Yn(t,e,n)}var Za=[{provide:tt,useFactory:ud},{provide:_t,useClass:cd},{provide:ra,useFactory:ld,deps:[ma,_t,De]}],Xa=[{provide:et,useFactory:()=>new Hn},{provide:ni,useValue:"BrowserAnimations"},...Za],hd=[{provide:et,useClass:Oi},{provide:ni,useValue:"NoopAnimations"},...Za],ec=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:r.disableAnimations?hd:Xa}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=re({type:e}),e.\u0275inj=ne({providers:Xa,imports:[On]});let t=e;return t})();function dd(t,e){return new Ye(n=>{let r=!1,i=!1,s=t.subscribe(o=>{i=!0,setTimeout(()=>{n.next(o),r&&n.complete()},e)},o=>setTimeout(()=>n.error(o),e),()=>{r=!0,i||n.complete()});return()=>s.unsubscribe()})}var N={CONTINUE:100,SWITCHING_PROTOCOLS:101,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTIPLE_CHOICES:300,MOVED_PERMANTENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,USE_PROXY:305,TEMPORARY_REDIRECT:307,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,PAYLOAD_TO_LARGE:413,URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,IM_A_TEAPOT:418,UPGRADE_REQUIRED:426,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,PROCESSING:102,MULTI_STATUS:207,IM_USED:226,PERMANENT_REDIRECT:308,UNPROCESSABLE_ENTRY:422,LOCKED:423,FAILED_DEPENDENCY:424,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE:431,UNAVAILABLE_FOR_LEGAL_REASONS:451,VARIANT_ALSO_NEGOTIATES:506,INSUFFICIENT_STORAGE:507,NETWORK_AUTHENTICATION_REQUIRED:511},fd={100:{code:100,text:"Continue",description:'"The initial part of a request has been received and has not yet been rejected by the server."',spec_title:"RFC7231#6.2.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.2.1"},101:{code:101,text:"Switching Protocols",description:`"The server understands and is willing to comply with the client's request, via the Upgrade header field, for a change in the application protocol being used on this connection."`,spec_title:"RFC7231#6.2.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.2.2"},200:{code:200,text:"OK",description:'"The request has succeeded."',spec_title:"RFC7231#6.3.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.1"},201:{code:201,text:"Created",description:'"The request has been fulfilled and has resulted in one or more new resources being created."',spec_title:"RFC7231#6.3.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.2"},202:{code:202,text:"Accepted",description:'"The request has been accepted for processing, but the processing has not been completed."',spec_title:"RFC7231#6.3.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.3"},203:{code:203,text:"Non-Authoritative Information",description:`"The request was successful but the enclosed payload has been modified from that of the origin server's 200 (OK) response by a transforming proxy."`,spec_title:"RFC7231#6.3.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.4"},204:{code:204,text:"No Content",description:'"The server has successfully fulfilled the request and that there is no additional content to send in the response payload body."',spec_title:"RFC7231#6.3.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.5"},205:{code:205,text:"Reset Content",description:'"The server has fulfilled the request and desires that the user agent reset the "document view", which caused the request to be sent, to its original state as received from the origin server."',spec_title:"RFC7231#6.3.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.6"},206:{code:206,text:"Partial Content",description:`"The server is successfully fulfilling a range request for the target resource by transferring one or more parts of the selected representation that correspond to the satisfiable ranges found in the requests's Range header field."`,spec_title:"RFC7233#4.1",spec_href:"https://tools.ietf.org/html/rfc7233#section-4.1"},300:{code:300,text:"Multiple Choices",description:'"The target resource has more than one representation, each with its own more specific identifier, and information about the alternatives is being provided so that the user (or user agent) can select a preferred representation by redirecting its request to one or more of those identifiers."',spec_title:"RFC7231#6.4.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.1"},301:{code:301,text:"Moved Permanently",description:'"The target resource has been assigned a new permanent URI and any future references to this resource ought to use one of the enclosed URIs."',spec_title:"RFC7231#6.4.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.2"},302:{code:302,text:"Found",description:'"The target resource resides temporarily under a different URI."',spec_title:"RFC7231#6.4.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.3"},303:{code:303,text:"See Other",description:'"The server is redirecting the user agent to a different resource, as indicated by a URI in the Location header field, that is intended to provide an indirect response to the original request."',spec_title:"RFC7231#6.4.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.4"},304:{code:304,text:"Not Modified",description:'"A conditional GET request has been received and would have resulted in a 200 (OK) response if it were not for the fact that the condition has evaluated to false."',spec_title:"RFC7232#4.1",spec_href:"https://tools.ietf.org/html/rfc7232#section-4.1"},305:{code:305,text:"Use Proxy",description:"*deprecated*",spec_title:"RFC7231#6.4.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.5"},307:{code:307,text:"Temporary Redirect",description:'"The target resource resides temporarily under a different URI and the user agent MUST NOT change the request method if it performs an automatic redirection to that URI."',spec_title:"RFC7231#6.4.7",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.7"},400:{code:400,text:"Bad Request",description:'"The server cannot or will not process the request because the received syntax is invalid, nonsensical, or exceeds some limitation on what the server is willing to process."',spec_title:"RFC7231#6.5.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.1"},401:{code:401,text:"Unauthorized",description:'"The request has not been applied because it lacks valid authentication credentials for the target resource."',spec_title:"RFC7235#6.3.1",spec_href:"https://tools.ietf.org/html/rfc7235#section-3.1"},402:{code:402,text:"Payment Required",description:"*reserved*",spec_title:"RFC7231#6.5.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.2"},403:{code:403,text:"Forbidden",description:'"The server understood the request but refuses to authorize it."',spec_title:"RFC7231#6.5.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.3"},404:{code:404,text:"Not Found",description:'"The origin server did not find a current representation for the target resource or is not willing to disclose that one exists."',spec_title:"RFC7231#6.5.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.4"},405:{code:405,text:"Method Not Allowed",description:'"The method specified in the request-line is known by the origin server but not supported by the target resource."',spec_title:"RFC7231#6.5.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.5"},406:{code:406,text:"Not Acceptable",description:'"The target resource does not have a current representation that would be acceptable to the user agent, according to the proactive negotiation header fields received in the request, and the server is unwilling to supply a default representation."',spec_title:"RFC7231#6.5.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.6"},407:{code:407,text:"Proxy Authentication Required",description:'"The client needs to authenticate itself in order to use a proxy."',spec_title:"RFC7231#6.3.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.2"},408:{code:408,text:"Request Timeout",description:'"The server did not receive a complete request message within the time that it was prepared to wait."',spec_title:"RFC7231#6.5.7",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.7"},409:{code:409,text:"Conflict",description:'"The request could not be completed due to a conflict with the current state of the resource."',spec_title:"RFC7231#6.5.8",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.8"},410:{code:410,text:"Gone",description:'"Access to the target resource is no longer available at the origin server and that this condition is likely to be permanent."',spec_title:"RFC7231#6.5.9",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.9"},411:{code:411,text:"Length Required",description:'"The server refuses to accept the request without a defined Content-Length."',spec_title:"RFC7231#6.5.10",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.10"},412:{code:412,text:"Precondition Failed",description:'"One or more preconditions given in the request header fields evaluated to false when tested on the server."',spec_title:"RFC7232#4.2",spec_href:"https://tools.ietf.org/html/rfc7232#section-4.2"},413:{code:413,text:"Payload Too Large",description:'"The server is refusing to process a request because the request payload is larger than the server is willing or able to process."',spec_title:"RFC7231#6.5.11",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.11"},414:{code:414,text:"URI Too Long",description:'"The server is refusing to service the request because the request-target is longer than the server is willing to interpret."',spec_title:"RFC7231#6.5.12",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.12"},415:{code:415,text:"Unsupported Media Type",description:'"The origin server is refusing to service the request because the payload is in a format not supported by the target resource for this method."',spec_title:"RFC7231#6.5.13",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.13"},416:{code:416,text:"Range Not Satisfiable",description:`"None of the ranges in the request's Range header field overlap the current extent of the selected resource or that the set of ranges requested has been rejected due to invalid ranges or an excessive request of small or overlapping ranges."`,spec_title:"RFC7233#4.4",spec_href:"https://tools.ietf.org/html/rfc7233#section-4.4"},417:{code:417,text:"Expectation Failed",description:`"The expectation given in the request's Expect header field could not be met by at least one of the inbound servers."`,spec_title:"RFC7231#6.5.14",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.14"},418:{code:418,text:"I'm a teapot",description:'"1988 April Fools Joke. Returned by tea pots requested to brew coffee."',spec_title:"RFC 2324",spec_href:"https://tools.ietf.org/html/rfc2324"},426:{code:426,text:"Upgrade Required",description:'"The server refuses to perform the request using the current protocol but might be willing to do so after the client upgrades to a different protocol."',spec_title:"RFC7231#6.5.15",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.15"},500:{code:500,text:"Internal Server Error",description:'"The server encountered an unexpected condition that prevented it from fulfilling the request."',spec_title:"RFC7231#6.6.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.1"},501:{code:501,text:"Not Implemented",description:'"The server does not support the functionality required to fulfill the request."',spec_title:"RFC7231#6.6.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.2"},502:{code:502,text:"Bad Gateway",description:'"The server, while acting as a gateway or proxy, received an invalid response from an inbound server it accessed while attempting to fulfill the request."',spec_title:"RFC7231#6.6.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.3"},503:{code:503,text:"Service Unavailable",description:'"The server is currently unable to handle the request due to a temporary overload or scheduled maintenance, which will likely be alleviated after some delay."',spec_title:"RFC7231#6.6.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.4"},504:{code:504,text:"Gateway Time-out",description:'"The server, while acting as a gateway or proxy, did not receive a timely response from an upstream server it needed to access in order to complete the request."',spec_title:"RFC7231#6.6.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.5"},505:{code:505,text:"HTTP Version Not Supported",description:'"The server does not support, or refuses to support, the protocol version that was used in the request message."',spec_title:"RFC7231#6.6.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.6"},102:{code:102,text:"Processing",description:'"An interim response to inform the client that the server has accepted the complete request, but has not yet completed it."',spec_title:"RFC5218#10.1",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.1"},207:{code:207,text:"Multi-Status",description:'"Status for multiple independent operations."',spec_title:"RFC5218#10.2",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.2"},226:{code:226,text:"IM Used",description:'"The server has fulfilled a GET request for the resource, and the response is a representation of the result of one or more instance-manipulations applied to the current instance."',spec_title:"RFC3229#10.4.1",spec_href:"https://tools.ietf.org/html/rfc3229#section-10.4.1"},308:{code:308,text:"Permanent Redirect",description:'"The target resource has been assigned a new permanent URI and any future references to this resource SHOULD use one of the returned URIs. [...] This status code is similar to 301 Moved Permanently (Section 7.3.2 of rfc7231), except that it does not allow rewriting the request method from POST to GET."',spec_title:"RFC7238",spec_href:"https://tools.ietf.org/html/rfc7238"},422:{code:422,text:"Unprocessable Entity",description:'"The server understands the content type of the request entity (hence a 415(Unsupported Media Type) status code is inappropriate), and the syntax of the request entity is correct (thus a 400 (Bad Request) status code is inappropriate) but was unable to process the contained instructions."',spec_title:"RFC5218#10.3",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.3"},423:{code:423,text:"Locked",description:'"The source or destination resource of a method is locked."',spec_title:"RFC5218#10.4",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.4"},424:{code:424,text:"Failed Dependency",description:'"The method could not be performed on the resource because the requested action depended on another action and that action failed."',spec_title:"RFC5218#10.5",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.5"},428:{code:428,text:"Precondition Required",description:'"The origin server requires the request to be conditional."',spec_title:"RFC6585#3",spec_href:"https://tools.ietf.org/html/rfc6585#section-3"},429:{code:429,text:"Too Many Requests",description:'"The user has sent too many requests in a given amount of time ("rate limiting")."',spec_title:"RFC6585#4",spec_href:"https://tools.ietf.org/html/rfc6585#section-4"},431:{code:431,text:"Request Header Fields Too Large",description:'"The server is unwilling to process the request because its header fields are too large."',spec_title:"RFC6585#5",spec_href:"https://tools.ietf.org/html/rfc6585#section-5"},451:{code:451,text:"Unavailable For Legal Reasons",description:'"The server is denying access to the resource in response to a legal demand."',spec_title:"draft-ietf-httpbis-legally-restricted-status",spec_href:"https://tools.ietf.org/html/draft-ietf-httpbis-legally-restricted-status"},506:{code:506,text:"Variant Also Negotiates",description:'"The server has an internal configuration error: the chosen variant resource is configured to engage in transparent content negotiation itself, and is therefore not a proper end point in the negotiation process."',spec_title:"RFC2295#8.1",spec_href:"https://tools.ietf.org/html/rfc2295#section-8.1"},507:{code:507,text:"Insufficient Storage",description:'The method could not be performed on the resource because the server is unable to store the representation needed to successfully complete the request."',spec_title:"RFC5218#10.6",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.6"},511:{code:511,text:"Network Authentication Required",description:'"The client needs to authenticate to gain network access."',spec_title:"RFC6585#6",spec_href:"https://tools.ietf.org/html/rfc6585#section-6"}};function pd(t){return fd[t+""].text||"Unknown Status"}function md(t){return t>=200&&t<300}var qt=class{},Vi=class{},Jn=(()=>{let e=class e{constructor(r={}){Object.assign(this,{caseSensitiveSearch:!1,dataEncapsulation:!1,delay:500,delete404:!1,passThruUnknownUrl:!1,post204:!0,post409:!1,put204:!0,put404:!1,apiBase:void 0,host:void 0,rootPath:void 0},r)}};e.\u0275fac=function(i){return new(i||e)(Y(Vi))},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})();function gd(t){let n=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),r={source:"",protocol:"",authority:"",userInfo:"",user:"",password:"",host:"",port:"",relative:"",path:"",directory:"",file:"",query:"",anchor:""},i=Object.keys(r),s=i.length;for(;s--;)r[i[s]]=n&&n[s]||"";return r}function _d(t){return t.replace(/\/$/,"")}var Fi=class{constructor(e,n={}){this.inMemDbService=e,this.config=new Jn,this.db={},this.requestInfoUtils=this.getRequestInfoUtils();let r=this.getLocation("/");this.config.host=r.host,this.config.rootPath=r.path,Object.assign(this.config,n)}get dbReady(){return this.dbReadySubject||(this.dbReadySubject=new Wo(!1),this.resetDb()),this.dbReadySubject.asObservable().pipe(ti(e=>e))}handleRequest(e){return this.dbReady.pipe(ei(()=>this.handleRequest_(e)))}handleRequest_(e){let n=e.urlWithParams?e.urlWithParams:e.url,r=this.bind("parseRequestUrl"),i=r&&r(n,this.requestInfoUtils)||this.parseRequestUrl(n),s=i.collectionName,o=this.db[s],a={req:e,apiBase:i.apiBase,collection:o,collectionName:s,headers:this.createHeaders({"Content-Type":"application/json"}),id:this.parseId(o,s,i.id),method:this.getRequestMethod(e),query:i.query,resourceUrl:i.resourceUrl,url:n,utils:this.requestInfoUtils},c;if(/commands\/?$/i.test(a.apiBase))return this.commands(a);let u=this.bind(a.method);if(u){let l=u(a);if(l)return l}return this.db[s]?this.createResponse$(()=>this.collectionHandler(a)):this.config.passThruUnknownUrl?this.getPassThruBackend().handle(e):(c=this.createErrorResponseOptions(n,N.NOT_FOUND,`Collection '${s}' not found`),this.createResponse$(()=>c))}addDelay(e){let n=this.config.delay;return n===0?e:dd(e,n||500)}applyQuery(e,n){let r=[],i=this.config.caseSensitiveSearch?void 0:"i";n.forEach((o,a)=>{o.forEach(c=>r.push({name:a,rx:new RegExp(decodeURI(c),i)}))});let s=r.length;return s?e.filter(o=>{let a=!0,c=s;for(;a&&c;){c-=1;let u=r[c];a=u.rx.test(o[u.name])}return a}):e}bind(e){let n=this.inMemDbService[e];return n?n.bind(this.inMemDbService):void 0}bodify(e){return this.config.dataEncapsulation?{data:e}:e}clone(e){return JSON.parse(JSON.stringify(e))}collectionHandler(e){let n;switch(e.method){case"get":n=this.get(e);break;case"post":n=this.post(e);break;case"put":n=this.put(e);break;case"delete":n=this.delete(e);break;default:n=this.createErrorResponseOptions(e.url,N.METHOD_NOT_ALLOWED,"Method not allowed");break}let r=this.bind("responseInterceptor");return r?r(n,e):n}commands(e){let n=e.collectionName.toLowerCase(),r=e.method,i={url:e.url};switch(n){case"resetdb":return i.status=N.NO_CONTENT,this.resetDb(e).pipe(ei(()=>this.createResponse$(()=>i,!1)));case"config":if(r==="get")i.status=N.OK,i.body=this.clone(this.config);else{let s=this.getJsonBody(e.req);Object.assign(this.config,s),this.passThruBackend=void 0,i.status=N.NO_CONTENT}break;default:i=this.createErrorResponseOptions(e.url,N.INTERNAL_SERVER_ERROR,`Unknown command "${n}"`)}return this.createResponse$(()=>i,!1)}createErrorResponseOptions(e,n,r){return{body:{error:`${r}`},url:e,headers:this.createHeaders({"Content-Type":"application/json"}),status:n}}createResponse$(e,n=!0){let r=this.createResponseOptions$(e),i=this.createResponse$fromResponseOptions$(r);return n?this.addDelay(i):i}createResponseOptions$(e){return new Ye(n=>{let r;try{r=e()}catch(s){let o=s.message||s;r=this.createErrorResponseOptions("",N.INTERNAL_SERVER_ERROR,`${o}`)}let i=r.status;try{r.statusText=i!=null?pd(i):void 0}catch{}return i!=null&&md(i)?(n.next(r),n.complete()):n.error(r),()=>{}})}delete({collection:e,collectionName:n,headers:r,id:i,url:s}){if(i==null)return this.createErrorResponseOptions(s,N.NOT_FOUND,`Missing "${n}" id`);let o=this.removeById(e,i);return{headers:r,status:o||!this.config.delete404?N.NO_CONTENT:N.NOT_FOUND}}findById(e,n){return e.find(r=>r.id===n)}genId(e,n){let r=this.bind("genId");if(r){let i=r(e,n);if(i!=null)return i}return this.genIdDefault(e,n)}genIdDefault(e,n){if(!this.isCollectionIdNumeric(e,n))throw new Error(`Collection '${n}' id type is non-numeric or unknown. Can only generate numeric ids.`);let r=0;return e.reduce((i,s)=>{r=Math.max(r,typeof s.id=="number"?s.id:r)},void 0),r+1}get({collection:e,collectionName:n,headers:r,id:i,query:s,url:o}){let a=e;return i!=null&&i!==""?a=this.findById(e,i):s&&(a=this.applyQuery(e,s)),a?{body:this.bodify(this.clone(a)),headers:r,status:N.OK}:this.createErrorResponseOptions(o,N.NOT_FOUND,`'${n}' with id='${i}' not found`)}getLocation(e){if(!e.startsWith("http")){let n=typeof document>"u"?void 0:document,r=n?n.location.protocol+"//"+n.location.host:"http://fake";e=e.startsWith("/")?r+e:r+"/"+e}return gd(e)}getPassThruBackend(){return this.passThruBackend?this.passThruBackend:this.passThruBackend=this.createPassThruBackend()}getRequestInfoUtils(){return{createResponse$:this.createResponse$.bind(this),findById:this.findById.bind(this),isCollectionIdNumeric:this.isCollectionIdNumeric.bind(this),getConfig:()=>this.config,getDb:()=>this.db,getJsonBody:this.getJsonBody.bind(this),getLocation:this.getLocation.bind(this),getPassThruBackend:this.getPassThruBackend.bind(this),parseRequestUrl:this.parseRequestUrl.bind(this)}}indexOf(e,n){return e.findIndex(r=>r.id===n)}parseId(e,n,r){if(!this.isCollectionIdNumeric(e,n))return r;let i=parseFloat(r);return isNaN(i)?r:i}isCollectionIdNumeric(e,n){return!!(e&&e[0])&&typeof e[0].id=="number"}parseRequestUrl(e){try{let n=this.getLocation(e),r=(this.config.rootPath||"").length,i="";n.host!==this.config.host&&(r=1,i=n.protocol+"//"+n.host+"/");let o=n.path.substring(r).split("/"),a=0,c;this.config.apiBase==null?c=o[a++]:(c=_d(this.config.apiBase.trim()),c?a=c.split("/").length:a=0),c+="/";let u=o[a++];u=u&&u.split(".")[0];let l=o[a++],h=this.createQueryMap(n.query),g=i+c+u+"/";return{apiBase:c,collectionName:u,id:l,query:h,resourceUrl:g}}catch(n){let r=`unable to parse url '${e}'; original error: ${n.message}`;throw new Error(r)}}post({collection:e,collectionName:n,headers:r,id:i,req:s,resourceUrl:o,url:a}){let c=this.clone(this.getJsonBody(s));if(c.id==null)try{c.id=i||this.genId(e,n)}catch(h){let g=h.message||"";return/id type is non-numeric/.test(g)?this.createErrorResponseOptions(a,N.UNPROCESSABLE_ENTRY,g):this.createErrorResponseOptions(a,N.INTERNAL_SERVER_ERROR,`Failed to generate new id for '${n}'`)}if(i&&i!==c.id)return this.createErrorResponseOptions(a,N.BAD_REQUEST,"Request id does not match item.id");i=c.id;let u=this.indexOf(e,i),l=this.bodify(c);return u===-1?(e.push(c),r.set("Location",o+"/"+i),{headers:r,body:l,status:N.CREATED}):this.config.post409?this.createErrorResponseOptions(a,N.CONFLICT,`'${n}' item with id='${i} exists and may not be updated with POST; use PUT instead.`):(e[u]=c,this.config.post204?{headers:r,status:N.NO_CONTENT}:{headers:r,body:l,status:N.OK})}put({collection:e,collectionName:n,headers:r,id:i,req:s,url:o}){let a=this.clone(this.getJsonBody(s));if(a.id==null)return this.createErrorResponseOptions(o,N.NOT_FOUND,`Missing '${n}' id`);if(i&&i!==a.id)return this.createErrorResponseOptions(o,N.BAD_REQUEST,`Request for '${n}' id does not match item.id`);i=a.id;let c=this.indexOf(e,i),u=this.bodify(a);return c>-1?(e[c]=a,this.config.put204?{headers:r,status:N.NO_CONTENT}:{headers:r,body:u,status:N.OK}):this.config.put404?this.createErrorResponseOptions(o,N.NOT_FOUND,`'${n}' item with id='${i} not found and may not be created with PUT; use POST instead.`):(e.push(a),{headers:r,body:u,status:N.CREATED})}removeById(e,n){let r=this.indexOf(e,n);return r>-1?(e.splice(r,1),!0):!1}resetDb(e){this.dbReadySubject&&this.dbReadySubject.next(!1);let n=this.inMemDbService.createDb(e);return(n instanceof Ye?n:typeof n.then=="function"?Qo(n):Yo(n)).pipe(ti()).subscribe(i=>{this.db=i,this.dbReadySubject&&this.dbReadySubject.next(!0)}),this.dbReady}},yd=(()=>{let e=class e extends Fi{constructor(r,i,s){super(r,i),this.xhrFactory=s}handle(r){try{return this.handleRequest(r)}catch(i){let s=i.message||i,o=this.createErrorResponseOptions(r.url,N.INTERNAL_SERVER_ERROR,`${s}`);return this.createResponse$(()=>o)}}getJsonBody(r){return r.body}getRequestMethod(r){return(r.method||"get").toLowerCase()}createHeaders(r){return new la(r)}createQueryMap(r){let i=new Map;if(r){let s=new ha({fromString:r});s.keys().forEach(o=>i.set(o,s.getAll(o)||[]))}return i}createResponse$fromResponseOptions$(r){return r.pipe(Jo(i=>new da(i)))}createPassThruBackend(){try{return new fa(this.xhrFactory)}catch(r){throw r.message="Cannot create passThru404 backend; "+(r.message||""),r}}};e.\u0275fac=function(i){return new(i||e)(Y(qt),Y(Jn,8),Y(Dn))},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})();function Ed(t,e,n){return new yd(t,e,n)}var tc=(()=>{let e=class e{static forRoot(r,i){return{ngModule:e,providers:[{provide:qt,useClass:r},{provide:Jn,useValue:i},{provide:ua,useFactory:Ed,deps:[qt,Jn,Dn]}]}}static forFeature(r,i){return e.forRoot(r,i)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=re({type:e}),e.\u0275inj=ne({});let t=e;return t})();var nc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=re({type:t}),t.\u0275inj=ne({imports:[ca]}),t})();var rc=(()=>{class t{authService;constructor(n){this.authService=n}canActivate(n,r){return this.authService.currentUserValue?!0:(this.authService.logout(),!1)}static \u0275fac=function(r){return new(r||t)(Y(Ln))};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Td=[{path:"auth",loadChildren:()=>import("./chunk-TLTYS4TS.js").then(t=>t.AuthModule)},{path:"error",loadChildren:()=>import("./chunk-QKH6ORU4.js").then(t=>t.ErrorsModule)},{path:"",canActivate:[rc],loadChildren:()=>import("./chunk-HRS4WCFJ.js").then(t=>t.LayoutModule)},{path:"**",redirectTo:"error/404"}],ic=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=re({type:t});static \u0275inj=ne({imports:[oi.forRoot(Td),oi]})}return t})();var sc={lang:"en",data:{TRANSLATOR:{SELECT:"Select your language"},MENU:{NEW:"new",ACTIONS:"Actions",CREATE_POST:"Create New Post",PAGES:"Pages",FEATURES:"Features",APPS:"Apps",DASHBOARD:"Dashboard"},AUTH:{GENERAL:{OR:"Or",SUBMIT_BUTTON:"Submit",NO_ACCOUNT:"Don't have an account?",SIGNUP_BUTTON:"Sign Up",FORGOT_BUTTON:"Forgot Password",BACK_BUTTON:"Back",PRIVACY:"Privacy",LEGAL:"Legal",CONTACT:"Contact"},LOGIN:{TITLE:"Login Account",BUTTON:"Sign In"},FORGOT:{TITLE:"Forgotten Password?",DESC:"Enter your email to reset your password",SUCCESS:"Your account has been successfully reset."},REGISTER:{TITLE:"Sign Up",DESC:"Enter your details to create your account",SUCCESS:"Your account has been successfuly registered."},INPUT:{EMAIL:"Email",FULLNAME:"Fullname",PASSWORD:"Password",CONFIRM_PASSWORD:"Confirm Password",USERNAME:"Username"},VALIDATION:{INVALID:"{{name}} is not valid",REQUIRED:"{{name}} is required",MIN_LENGTH:"{{name}} minimum length is {{min}}",AGREEMENT_REQUIRED:"Accepting terms & conditions are required",NOT_FOUND:"The requested {{name}} is not found",INVALID_LOGIN:"The login detail is incorrect",REQUIRED_FIELD:"Required field",MIN_LENGTH_FIELD:"Minimum field length:",MAX_LENGTH_FIELD:"Maximum field length:",INVALID_FIELD:"Field is not valid"}},ECOMMERCE:{COMMON:{SELECTED_RECORDS_COUNT:"Selected records count: ",ALL:"All",SUSPENDED:"Suspended",ACTIVE:"Active",FILTER:"Filter",BY_STATUS:"by Status",BY_TYPE:"by Type",BUSINESS:"Business",INDIVIDUAL:"Individual",SEARCH:"Search",IN_ALL_FIELDS:"in all fields"},ECOMMERCE:"eCommerce",CUSTOMERS:{CUSTOMERS:"Customers",CUSTOMERS_LIST:"Customers list",NEW_CUSTOMER:"New Customer",DELETE_CUSTOMER_SIMPLE:{TITLE:"Customer Delete",DESCRIPTION:"Are you sure to permanently delete this customer?",WAIT_DESCRIPTION:"Customer is deleting...",MESSAGE:"Customer has been deleted"},DELETE_CUSTOMER_MULTY:{TITLE:"Customers Delete",DESCRIPTION:"Are you sure to permanently delete selected customers?",WAIT_DESCRIPTION:"Customers are deleting...",MESSAGE:"Selected customers have been deleted"},UPDATE_STATUS:{TITLE:"Status has been updated for selected customers",MESSAGE:"Selected customers status have successfully been updated"},EDIT:{UPDATE_MESSAGE:"Customer has been updated",ADD_MESSAGE:"Customer has been created"}}}}};var oc={lang:"zh",data:{TRANSLATOR:{SELECT:"\u9009\u62E9\u4F60\u7684\u8BED\u8A00"},MENU:{NEW:"\u65B0",ACTIONS:"\u884C\u52A8",CREATE_POST:"\u521B\u5EFA\u65B0\u5E16\u5B50",PAGES:"Pages",FEATURES:"\u7279\u5F81",APPS:"\u5E94\u7528",DASHBOARD:"\u4EEA\u8868\u677F"},AUTH:{GENERAL:{OR:"\u8981\u4E48",SUBMIT_BUTTON:"\u63D0\u4EA4",NO_ACCOUNT:"\u6CA1\u6709\u8D26\u53F7\uFF1F",SIGNUP_BUTTON:"\u6CE8\u518C",FORGOT_BUTTON:"\u5FD8\u8BB0\u5BC6\u7801",BACK_BUTTON:"\u80CC\u90E8",PRIVACY:"\u9690\u79C1",LEGAL:"\u6CD5\u5F8B",CONTACT:"\u8054\u7CFB"},LOGIN:{TITLE:"\u521B\u5EFA\u5E10\u53F7",BUTTON:"\u7B7E\u5230"},FORGOT:{TITLE:"Forgotten Password?",DESC:"Enter your email to reset your password",SUCCESS:"Your account has been successfully reset."},REGISTER:{TITLE:"Sign Up",DESC:"Enter your details to create your account",SUCCESS:"Your account has been successfuly registered."},INPUT:{EMAIL:"Email",FULLNAME:"Fullname",PASSWORD:"Password",CONFIRM_PASSWORD:"Confirm Password",USERNAME:"\u7528\u6236\u540D"},VALIDATION:{INVALID:"{{name}} is not valid",REQUIRED:"{{name}} is required",MIN_LENGTH:"{{name}} minimum length is {{min}}",AGREEMENT_REQUIRED:"Accepting terms & conditions are required",NOT_FOUND:"The requested {{name}} is not found",INVALID_LOGIN:"The login detail is incorrect",REQUIRED_FIELD:"Required field",MIN_LENGTH_FIELD:"Minimum field length:",MAX_LENGTH_FIELD:"Maximum field length:",INVALID_FIELD:"Field is not valid"}},ECOMMERCE:{COMMON:{SELECTED_RECORDS_COUNT:"Selected records count: ",ALL:"All",SUSPENDED:"Suspended",ACTIVE:"Active",FILTER:"Filter",BY_STATUS:"by Status",BY_TYPE:"by Type",BUSINESS:"Business",INDIVIDUAL:"Individual",SEARCH:"Search",IN_ALL_FIELDS:"in all fields"},ECOMMERCE:"eCommerce",CUSTOMERS:{CUSTOMERS:"\u987E\u5BA2",CUSTOMERS_LIST:"\u5BA2\u6237\u540D\u5355",NEW_CUSTOMER:"New Customer",DELETE_CUSTOMER_SIMPLE:{TITLE:"Customer Delete",DESCRIPTION:"Are you sure to permanently delete this customer?",WAIT_DESCRIPTION:"Customer is deleting...",MESSAGE:"Customer has been deleted"},DELETE_CUSTOMER_MULTY:{TITLE:"Customers Delete",DESCRIPTION:"Are you sure to permanently delete selected customers?",WAIT_DESCRIPTION:"Customers are deleting...",MESSAGE:"Selected customers have been deleted"},UPDATE_STATUS:{TITLE:"Status has been updated for selected customers",MESSAGE:"Selected customers status have successfully been updated"},EDIT:{UPDATE_MESSAGE:"Customer has been updated",ADD_MESSAGE:"Customer has been created"}}}}};var ac={lang:"es",data:{TRANSLATOR:{SELECT:"Elige tu idioma"},MENU:{NEW:"nuevo",ACTIONS:"Comportamiento",CREATE_POST:"Crear nueva publicaci\xF3n",PAGES:"Pages",FEATURES:"Caracteristicas",APPS:"Aplicaciones",DASHBOARD:"Tablero"},AUTH:{GENERAL:{OR:"O",SUBMIT_BUTTON:"Enviar",NO_ACCOUNT:"No tienes una cuenta?",SIGNUP_BUTTON:"Reg\xEDstrate",FORGOT_BUTTON:"Se te olvid\xF3 tu contrase\xF1a",BACK_BUTTON:"Espalda",PRIVACY:"Intimidad",LEGAL:"Legal",CONTACT:"Contacto"},LOGIN:{TITLE:"Crear una cuenta",BUTTON:"Registrarse"},FORGOT:{TITLE:"Contrase\xF1a olvidada?",DESC:"Ingrese su correo electr\xF3nico para restablecer su contrase\xF1a",SUCCESS:"Your account has been successfully reset."},REGISTER:{TITLE:"Sign Up",DESC:"Enter your details to create your account",SUCCESS:"Your account has been successfuly registered."},INPUT:{EMAIL:"Email",FULLNAME:"Fullname",PASSWORD:"Password",CONFIRM_PASSWORD:"Confirm Password",USERNAME:"Usuario"},VALIDATION:{INVALID:"{{name}} is not valid",REQUIRED:"{{name}} is required",MIN_LENGTH:"{{name}} minimum length is {{min}}",AGREEMENT_REQUIRED:"Accepting terms & conditions are required",NOT_FOUND:"The requested {{name}} is not found",INVALID_LOGIN:"The login detail is incorrect",REQUIRED_FIELD:"Required field",MIN_LENGTH_FIELD:"Minimum field length:",MAX_LENGTH_FIELD:"Maximum field length:",INVALID_FIELD:"Field is not valid"}},ECOMMERCE:{COMMON:{SELECTED_RECORDS_COUNT:"Selected records count: ",ALL:"All",SUSPENDED:"Suspended",ACTIVE:"Active",FILTER:"Filter",BY_STATUS:"by Status",BY_TYPE:"by Type",BUSINESS:"Business",INDIVIDUAL:"Individual",SEARCH:"Search",IN_ALL_FIELDS:"in all fields"},ECOMMERCE:"eCommerce",CUSTOMERS:{CUSTOMERS:"Customers",CUSTOMERS_LIST:"Customers list",NEW_CUSTOMER:"New Customer",DELETE_CUSTOMER_SIMPLE:{TITLE:"Customer Delete",DESCRIPTION:"Are you sure to permanently delete this customer?",WAIT_DESCRIPTION:"Customer is deleting...",MESSAGE:"Customer has been deleted"},DELETE_CUSTOMER_MULTY:{TITLE:"Customers Delete",DESCRIPTION:"Are you sure to permanently delete selected customers?",WAIT_DESCRIPTION:"Customers are deleting...",MESSAGE:"Selected customers have been deleted"},UPDATE_STATUS:{TITLE:"Status has been updated for selected customers",MESSAGE:"Selected customers status have successfully been updated"},EDIT:{UPDATE_MESSAGE:"Customer has been updated",ADD_MESSAGE:"Customer has been created"}}}}};var cc={lang:"ja",data:{TRANSLATOR:{SELECT:"\u3042\u306A\u305F\u304C\u4F7F\u3046\u8A00\u8A9E\u3092\u9078\u3093\u3067\u304F\u3060\u3055\u3044"},MENU:{NEW:"\u65B0\u3057\u3044",ACTIONS:"\u884C\u52D5",CREATE_POST:"\u65B0\u3057\u3044\u6295\u7A3F\u3092\u4F5C\u6210",PAGES:"Pages",FEATURES:"\u7279\u5FB4",APPS:"\u30A2\u30D7\u30EA",DASHBOARD:"\u30C0\u30C3\u30B7\u30E5\u30DC\u30FC\u30C9"},AUTH:{GENERAL:{OR:"\u307E\u305F\u306F",SUBMIT_BUTTON:"\u63D0\u51FA\u3059\u308B",NO_ACCOUNT:"\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u6301\u3063\u3066\u3044\u306A\u3044\uFF1F",SIGNUP_BUTTON:"\u30B5\u30A4\u30F3\u30A2\u30C3\u30D7",FORGOT_BUTTON:"\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u304A\u5FD8\u308C\u3067\u3059\u304B",BACK_BUTTON:"\u30D0\u30C3\u30AF",PRIVACY:"\u30D7\u30E9\u30A4\u30D0\u30B7\u30FC",LEGAL:"\u6CD5\u7684",CONTACT:"\u63A5\u89E6"},LOGIN:{TITLE:"Create Account",BUTTON:"Sign In"},FORGOT:{TITLE:"Forgotten Password?",DESC:"Enter your email to reset your password",SUCCESS:"Your account has been successfully reset."},REGISTER:{TITLE:"Sign Up",DESC:"Enter your details to create your account",SUCCESS:"Your account has been successfuly registered."},INPUT:{EMAIL:"Email",FULLNAME:"Fullname",PASSWORD:"Password",CONFIRM_PASSWORD:"Confirm Password",USERNAME:"\u30E6\u30FC\u30B6\u30FC\u540D"},VALIDATION:{INVALID:"{{name}} is not valid",REQUIRED:"{{name}} is required",MIN_LENGTH:"{{name}} minimum length is {{min}}",AGREEMENT_REQUIRED:"Accepting terms & conditions are required",NOT_FOUND:"The requested {{name}} is not found",INVALID_LOGIN:"The login detail is incorrect",REQUIRED_FIELD:"Required field",MIN_LENGTH_FIELD:"Minimum field length:",MAX_LENGTH_FIELD:"Maximum field length:",INVALID_FIELD:"Field is not valid"}},ECOMMERCE:{COMMON:{SELECTED_RECORDS_COUNT:"Selected records count: ",ALL:"All",SUSPENDED:"Suspended",ACTIVE:"Active",FILTER:"Filter",BY_STATUS:"by Status",BY_TYPE:"by Type",BUSINESS:"Business",INDIVIDUAL:"Individual",SEARCH:"Search",IN_ALL_FIELDS:"in all fields"},ECOMMERCE:"eCommerce",CUSTOMERS:{CUSTOMERS:"Customers",CUSTOMERS_LIST:"Customers list",NEW_CUSTOMER:"New Customer",DELETE_CUSTOMER_SIMPLE:{TITLE:"Customer Delete",DESCRIPTION:"Are you sure to permanently delete this customer?",WAIT_DESCRIPTION:"Customer is deleting...",MESSAGE:"Customer has been deleted"},DELETE_CUSTOMER_MULTY:{TITLE:"Customers Delete",DESCRIPTION:"Are you sure to permanently delete selected customers?",WAIT_DESCRIPTION:"Customers are deleting...",MESSAGE:"Selected customers have been deleted"},UPDATE_STATUS:{TITLE:"Status has been updated for selected customers",MESSAGE:"Selected customers status have successfully been updated"},EDIT:{UPDATE_MESSAGE:"Customer has been updated",ADD_MESSAGE:"Customer has been created"}}}}};var uc={lang:"de",data:{TRANSLATOR:{SELECT:"W\xE4hle deine Sprache"},MENU:{NEW:"Neu",ACTIONS:"Aktionen",CREATE_POST:"Erstellen Sie einen neuen Beitrag",PAGES:"Pages",FEATURES:"Eigenschaften",APPS:"Apps",DASHBOARD:"Instrumententafel"},AUTH:{GENERAL:{OR:"Oder",SUBMIT_BUTTON:"einreichen",NO_ACCOUNT:"Hast du kein Konto?",SIGNUP_BUTTON:"Anmelden",FORGOT_BUTTON:"Passwort vergessen",BACK_BUTTON:"Zur\xFCck",PRIVACY:"Privatsph\xE4re",LEGAL:"Legal",CONTACT:"Kontakt"},LOGIN:{TITLE:"Create Account",BUTTON:"Sign In"},FORGOT:{TITLE:"Forgotten Password?",DESC:"Enter your email to reset your password",SUCCESS:"Your account has been successfully reset."},REGISTER:{TITLE:"Sign Up",DESC:"Enter your details to create your account",SUCCESS:"Your account has been successfuly registered."},INPUT:{EMAIL:"Email",FULLNAME:"Fullname",PASSWORD:"Password",CONFIRM_PASSWORD:"Confirm Password",USERNAME:"Nutzername"},VALIDATION:{INVALID:"{{name}} is not valid",REQUIRED:"{{name}} is required",MIN_LENGTH:"{{name}} minimum length is {{min}}",AGREEMENT_REQUIRED:"Accepting terms & conditions are required",NOT_FOUND:"The requested {{name}} is not found",INVALID_LOGIN:"The login detail is incorrect",REQUIRED_FIELD:"Required field",MIN_LENGTH_FIELD:"Minimum field length:",MAX_LENGTH_FIELD:"Maximum field length:",INVALID_FIELD:"Field is not valid"}},ECOMMERCE:{COMMON:{SELECTED_RECORDS_COUNT:"Selected records count: ",ALL:"All",SUSPENDED:"Suspended",ACTIVE:"Active",FILTER:"Filter",BY_STATUS:"by Status",BY_TYPE:"by Type",BUSINESS:"Business",INDIVIDUAL:"Individual",SEARCH:"Search",IN_ALL_FIELDS:"in all fields"},ECOMMERCE:"eCommerce",CUSTOMERS:{CUSTOMERS:"Customers",CUSTOMERS_LIST:"Customers list",NEW_CUSTOMER:"New Customer",DELETE_CUSTOMER_SIMPLE:{TITLE:"Customer Delete",DESCRIPTION:"Are you sure to permanently delete this customer?",WAIT_DESCRIPTION:"Customer is deleting...",MESSAGE:"Customer has been deleted"},DELETE_CUSTOMER_MULTY:{TITLE:"Customers Delete",DESCRIPTION:"Are you sure to permanently delete selected customers?",WAIT_DESCRIPTION:"Customers are deleting...",MESSAGE:"Selected customers have been deleted"},UPDATE_STATUS:{TITLE:"Status has been updated for selected customers",MESSAGE:"Selected customers status have successfully been updated"},EDIT:{UPDATE_MESSAGE:"Customer has been updated",ADD_MESSAGE:"Customer has been created"}}}}};var lc={lang:"fr",data:{TRANSLATOR:{SELECT:"choisissez votre langue"},MENU:{NEW:"Nouveau",ACTIONS:"Actes",CREATE_POST:"Cr\xE9er un nouveau Post",PAGES:"Pages",FEATURES:"Fonctionnalit\xE9s",APPS:"Applications",DASHBOARD:"Tableau de Bord"},AUTH:{GENERAL:{OR:"Ou",SUBMIT_BUTTON:"Soumettre",NO_ACCOUNT:"Ne pas avoir de compte?",SIGNUP_BUTTON:"Registre",FORGOT_BUTTON:"Mot de passe oubli\xE9",BACK_BUTTON:"Back",PRIVACY:"Privacy",LEGAL:"Legal",CONTACT:"Contact"},LOGIN:{TITLE:"Cr\xE9er un compte",BUTTON:"Sign In"},FORGOT:{TITLE:"Forgotten Password?",DESC:"Enter your email to reset your password",SUCCESS:"Your account has been successfully reset."},REGISTER:{TITLE:"Sign Up",DESC:"Enter your details to create your account",SUCCESS:"Your account has been successfuly registered."},INPUT:{EMAIL:"Email",FULLNAME:"Fullname",PASSWORD:"Mot de passe",CONFIRM_PASSWORD:"Confirm Password",USERNAME:"Nom d'utilisateur"},VALIDATION:{INVALID:"{{name}} n'est pas valide",REQUIRED:"{{name}} est requis",MIN_LENGTH:"{{name}} minimum length is {{min}}",AGREEMENT_REQUIRED:"Accepting terms & conditions are required",NOT_FOUND:"The requested {{name}} is not found",INVALID_LOGIN:"The login detail is incorrect",REQUIRED_FIELD:"Required field",MIN_LENGTH_FIELD:"Minimum field length:",MAX_LENGTH_FIELD:"Maximum field length:",INVALID_FIELD:"Field is not valid"}},ECOMMERCE:{COMMON:{SELECTED_RECORDS_COUNT:"Nombre d'enregistrements s\xE9lectionn\xE9s: ",ALL:"All",SUSPENDED:"Suspended",ACTIVE:"Active",FILTER:"Filter",BY_STATUS:"by Status",BY_TYPE:"by Type",BUSINESS:"Business",INDIVIDUAL:"Individual",SEARCH:"Search",IN_ALL_FIELDS:"in all fields"},ECOMMERCE:"\xE9Commerce",CUSTOMERS:{CUSTOMERS:"Les clients",CUSTOMERS_LIST:"Liste des clients",NEW_CUSTOMER:"Nouveau client",DELETE_CUSTOMER_SIMPLE:{TITLE:"Suppression du client",DESCRIPTION:"\xCAtes-vous s\xFBr de supprimer d\xE9finitivement ce client?",WAIT_DESCRIPTION:"Le client est en train de supprimer ...",MESSAGE:"Le client a \xE9t\xE9 supprim\xE9"},DELETE_CUSTOMER_MULTY:{TITLE:"Supprimer les clients",DESCRIPTION:"\xCAtes-vous s\xFBr de supprimer d\xE9finitivement les clients s\xE9lectionn\xE9s?",WAIT_DESCRIPTION:"Les clients suppriment ...",MESSAGE:"Les clients s\xE9lectionn\xE9s ont \xE9t\xE9 supprim\xE9s"},UPDATE_STATUS:{TITLE:"Le statut a \xE9t\xE9 mis \xE0 jour pour les clients s\xE9lectionn\xE9s",MESSAGE:"Le statut des clients s\xE9lectionn\xE9s a \xE9t\xE9 mis \xE0 jour avec succ\xE8s"},EDIT:{UPDATE_MESSAGE:"Le client a \xE9t\xE9 mis \xE0 jour",ADD_MESSAGE:"Le client a \xE9t\xE9 cr\xE9\xE9"}}}}};var Id=["root",""],hc=(()=>{class t{translationService;modeService;constructor(n,r){this.translationService=n,this.modeService=r,this.translationService.loadTranslations(sc,oc,ac,cc,uc,lc)}ngOnInit(){this.modeService.init()}static \u0275fac=function(r){return new(r||t)(Nn(Sa),Nn(wa))};static \u0275cmp=ea({type:t,selectors:[["body","root",""]],attrs:Id,decls:1,vars:0,template:function(r,i){r&1&&ia(0,"router-outlet")},dependencies:[Ia],styles:["[_nghost-%COMP%]{height:100%;margin:0}"],changeDetection:0})}return t})();var dc=(()=>{class t{constructor(){}createDb(){return{users:va.users}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var pc=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vd=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},mc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,h=(s&3)<<4|a>>4,g=(a&15)<<2|u>>6,_=u&63;c||(_=64,o||(g=64)),r.push(n[l],n[h],n[g],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pc(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vd(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new Bi;let g=s<<2|a>>4;if(r.push(g),u!==64){let _=a<<4&240|u>>2;if(r.push(_),h!==64){let p=u<<6&192|h;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Bi=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},wd=function(t){let e=pc(t);return mc.encodeByteArray(e,!0)},$t=function(t){return wd(t).replace(/\./g,"")},$i=function(t){try{return mc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Sd(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Ad=()=>Sd().__FIREBASE_DEFAULTS__,Rd=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bd=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&$i(t[1]);return e&&JSON.parse(e)},Gi=()=>{try{return Ad()||Rd()||bd()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gc=t=>{var e,n;return(n=(e=Gi())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_c=t=>{let e=gc(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ji=()=>{var t;return(t=Gi())===null||t===void 0?void 0:t.config},yc=t=>{var e;return(e=Gi())===null||e===void 0?void 0:e[`_${t}`]};var Xn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Ec(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$t(JSON.stringify(n)),$t(JSON.stringify(o)),""].join(".")}function fe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Tc(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fe())}function Ic(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vc(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zi(){try{return typeof indexedDB=="object"}catch{return!1}}function wc(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var Cd="FirebaseError",de=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Cd,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ke.prototype.create)}},ke=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Pd(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new de(i,a,r)}};function Pd(t,e){return t.replace(Nd,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Nd=/\{\$([^}]+)}/g;function yt(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(fc(s)&&fc(o)){if(!yt(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function fc(t){return t!==null&&typeof t=="object"}function Wi(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Sc(t,e){let n=new qi(t,e);return n.subscribe.bind(n)}var qi=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Dd(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ui),i.error===void 0&&(i.error=Ui),i.complete===void 0&&(i.complete=Ui);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Dd(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ui(){}var B_=4*60*60*1e3;function Et(t){return t&&t._delegate?t._delegate:t}var pe=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var nt="[DEFAULT]";var Ki=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Xn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kd(e))try{this.getOrInitializeService({instanceIdentifier:nt})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=nt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return d(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=nt){return this.instances.has(e)}getOptions(e=nt){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Od(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=nt){return this.component?this.component.multipleInstances?e:nt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Od(t){return t===nt?void 0:t}function kd(t){return t.instantiationMode==="EAGER"}var Zn=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Ki(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Ld=[],R=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(R||{}),Md={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},xd=R.INFO,Vd={[R.DEBUG]:"log",[R.VERBOSE]:"log",[R.INFO]:"info",[R.WARN]:"warn",[R.ERROR]:"error"},Fd=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Vd[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Be=class{constructor(e){this.name=e,this._logLevel=xd,this._logHandler=Fd,this._userLogHandler=null,Ld.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in R))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Md[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...e),this._logHandler(this,R.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...e),this._logHandler(this,R.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,R.INFO,...e),this._logHandler(this,R.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,R.WARN,...e),this._logHandler(this,R.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,R.ERROR,...e),this._logHandler(this,R.ERROR,...e)}};var Ud=(t,e)=>e.some(n=>t instanceof n),Ac,Rc;function Bd(){return Ac||(Ac=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qd(){return Rc||(Rc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var bc=new WeakMap,Qi=new WeakMap,Cc=new WeakMap,Hi=new WeakMap,Ji=new WeakMap;function $d(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Se(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bc.set(n,t)}).catch(()=>{}),Ji.set(e,t),e}function Gd(t){if(Qi.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Qi.set(t,e)}var Yi={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qi.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Cc.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Se(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Pc(t){Yi=t(Yi)}function jd(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(er(this),e,...n);return Cc.set(r,e.sort?e.sort():[e]),Se(r)}:qd().includes(t)?function(...e){return t.apply(er(this),e),Se(bc.get(this))}:function(...e){return Se(t.apply(er(this),e))}}function zd(t){return typeof t=="function"?jd(t):(t instanceof IDBTransaction&&Gd(t),Ud(t,Bd())?new Proxy(t,Yi):t)}function Se(t){if(t instanceof IDBRequest)return $d(t);if(Hi.has(t))return Hi.get(t);let e=zd(t);return e!==t&&(Hi.set(t,e),Ji.set(e,t)),e}var er=t=>Ji.get(t);function Dc(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Se(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Se(o.result),c.oldVersion,c.newVersion,Se(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var Wd=["get","getKey","getAll","getAllKeys","count"],Kd=["put","add","delete","clear"],Xi=new Map;function Nc(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xi.get(e))return Xi.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Kd.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Wd.includes(n)))return;let s=function(o,...a){return d(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Xi.set(e,s),s}Pc(t=>jo(ft({},t),{get:(e,n,r)=>Nc(e,n)||t.get(e,n,r),has:(e,n)=>!!Nc(e,n)||t.has(e,n)}));var es=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Hd(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Hd(t){let e=t.getComponent();return e?.type==="VERSION"}var ts="@firebase/app",Oc="0.10.0";var rt=new Be("@firebase/app"),Qd="@firebase/app-compat",Yd="@firebase/analytics-compat",Jd="@firebase/analytics",Xd="@firebase/app-check-compat",Zd="@firebase/app-check",ef="@firebase/auth",tf="@firebase/auth-compat",nf="@firebase/database",rf="@firebase/database-compat",sf="@firebase/functions",of="@firebase/functions-compat",af="@firebase/installations",cf="@firebase/installations-compat",uf="@firebase/messaging",lf="@firebase/messaging-compat",hf="@firebase/performance",df="@firebase/performance-compat",ff="@firebase/remote-config",pf="@firebase/remote-config-compat",mf="@firebase/storage",gf="@firebase/storage-compat",_f="@firebase/firestore",yf="@firebase/firestore-compat",Ef="firebase",Tf="10.10.0";var ns="[DEFAULT]",If={[ts]:"fire-core",[Qd]:"fire-core-compat",[Jd]:"fire-analytics",[Yd]:"fire-analytics-compat",[Zd]:"fire-app-check",[Xd]:"fire-app-check-compat",[ef]:"fire-auth",[tf]:"fire-auth-compat",[nf]:"fire-rtdb",[rf]:"fire-rtdb-compat",[sf]:"fire-fn",[of]:"fire-fn-compat",[af]:"fire-iid",[cf]:"fire-iid-compat",[uf]:"fire-fcm",[lf]:"fire-fcm-compat",[hf]:"fire-perf",[df]:"fire-perf-compat",[ff]:"fire-rc",[pf]:"fire-rc-compat",[mf]:"fire-gcs",[gf]:"fire-gcs-compat",[_f]:"fire-fst",[yf]:"fire-fst-compat","fire-js":"fire-js",[Ef]:"fire-js-all"};var Gt=new Map,vf=new Map,rs=new Map;function kc(t,e){try{t.container.addComponent(e)}catch(n){rt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $e(t){let e=t.name;if(rs.has(e))return rt.debug(`There were multiple attempts to register component ${e}.`),!1;rs.set(e,t);for(let n of Gt.values())kc(n,t);for(let n of vf.values())kc(n,t);return!0}function as(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tt(t){return t.settings!==void 0}var wf={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qe=new ke("app","Firebase",wf);var is=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pe("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qe.create("app-deleted",{appName:this._name})}};var It=Tf;function cs(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ns,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qe.create("bad-app-name",{appName:String(i)});if(n||(n=ji()),!n)throw qe.create("no-options");let s=Gt.get(i);if(s){if(yt(n,s.options)&&yt(r,s.config))return s;throw qe.create("duplicate-app",{appName:i})}let o=new Zn(i);for(let c of rs.values())o.addComponent(c);let a=new is(n,r,o);return Gt.set(i,a),a}function zt(t=ns){let e=Gt.get(t);if(!e&&t===ns&&ji())return cs();if(!e)throw qe.create("no-app",{appName:t});return e}function tr(){return Array.from(Gt.values())}function q(t,e,n){var r;let i=(r=If[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rt.warn(a.join(" "));return}$e(new pe(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Sf="firebase-heartbeat-database",Af=1,jt="firebase-heartbeat-store",Zi=null;function Vc(){return Zi||(Zi=Dc(Sf,Af,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jt)}catch(n){console.warn(n)}}}}).catch(t=>{throw qe.create("idb-open",{originalErrorMessage:t.message})})),Zi}function Rf(t){return d(this,null,function*(){try{let n=(yield Vc()).transaction(jt),r=yield n.objectStore(jt).get(Fc(t));return yield n.done,r}catch(e){if(e instanceof de)rt.warn(e.message);else{let n=qe.create("idb-get",{originalErrorMessage:e?.message});rt.warn(n.message)}}})}function Lc(t,e){return d(this,null,function*(){try{let r=(yield Vc()).transaction(jt,"readwrite");yield r.objectStore(jt).put(e,Fc(t)),yield r.done}catch(n){if(n instanceof de)rt.warn(n.message);else{let r=qe.create("idb-set",{originalErrorMessage:n?.message});rt.warn(r.message)}}})}function Fc(t){return`${t.name}!${t.options.appId}`}var bf=1024,Cf=30*24*60*60*1e3,ss=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new os(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return d(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Mc();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Cf}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return d(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Mc(),{heartbeatsToSend:r,unsentEntries:i}=Pf(this._heartbeatsCache.heartbeats),s=$t(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function Mc(){return new Date().toISOString().substring(0,10)}function Pf(t,e=bf){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),xc(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xc(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var os=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return d(this,null,function*(){return zi()?wc().then(()=>!0).catch(()=>!1):!1})}read(){return d(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Rf(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return d(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Lc(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return d(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Lc(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function xc(t){return $t(JSON.stringify({version:2,heartbeats:t})).length}function Nf(t){$e(new pe("platform-logger",e=>new es(e),"PRIVATE")),$e(new pe("heartbeat",e=>new ss(e),"PRIVATE")),q(ts,Oc,t),q(ts,Oc,"esm2017"),q("fire-js","")}Nf("");var Df="firebase",Of="10.10.0";q(Df,Of,"app");var wt=new sa("ANGULARFIRE2_VERSION");function ls(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Kt=(t,e)=>{let n=e?[e]:tr(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Wt=class{constructor(){return Kt(kf)}},kf="app-check";function vt(){}var nr=class{zone;delegate;constructor(e,n=Ho){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},us=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vt,{},vt,vt)),n.pipe(Xo({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ht=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new nr(Zone.current)),this.insideAngular=n.run(()=>new nr(Zone.current,Ko)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Y(De))};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rr(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Lf(t){return rr().ngZone.runOutsideAngular(()=>t())}function it(t){return rr().ngZone.run(()=>t())}function Mf(t){return xf(rr())(t)}function xf(t){return function(n){return n=n.lift(new us(t.ngZone)),n.pipe(Zr(t.outsideAngular),Xr(t.insideAngular))}}var Vf=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),it(()=>t.apply(void 0,r))},Qt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=it(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vt,{},vt,vt))),r[s]=Vf(r[s],n));let i=Lf(()=>t.apply(this,r));if(!e)if(i instanceof Ye){let s=rr();return i.pipe(Zr(s.outsideAngular),Xr(s.insideAngular))}else return it(()=>i);return i instanceof Ye?i.pipe(Mf):i instanceof Promise?it(()=>new Promise((s,o)=>i.then(a=>it(()=>s(a)),a=>it(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:it(()=>i)};var st=class{constructor(e){return e}},Yt=class{constructor(){return tr()}};function Ff(t){return t&&t.length===1?t[0]:new st(zt())}var hs=new Cn("angularfire2._apps"),Uf={provide:st,useFactory:Ff,deps:[[new Fe,hs]]},Bf={provide:Yt,deps:[[new Fe,hs]]};function qf(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new st(r)}}var $f=(()=>{class t{constructor(n){q("angularfire",wt.full,"core"),q("angularfire",wt.full,"app"),q("angular",oa.full,n.toString())}static \u0275fac=function(r){return new(r||t)(Y(ta))};static \u0275mod=re({type:t});static \u0275inj=ne({providers:[Uf,Bf]})}return t})();function Uc(t,...e){return{ngModule:$f,providers:[{provide:hs,useFactory:qf(t),multi:!0,deps:[De,Pn,Ht,...e]}]}}var Bc=Qt(cs,!0);function Hc(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Qc=Hc,Yc=new ke("auth","Firebase",Hc());var ar=new Be("@firebase/auth");function jf(t,...e){ar.logLevel<=R.WARN&&ar.warn(`Auth (${It}): ${t}`,...e)}function sr(t,...e){ar.logLevel<=R.ERROR&&ar.error(`Auth (${It}): ${t}`,...e)}function qc(t,...e){throw ws(t,...e)}function vs(t,...e){return ws(t,...e)}function Jc(t,e,n){let r=Object.assign(Object.assign({},Qc()),{[e]:n});return new ke("auth","Firebase",r).create(e,{appName:t.name})}function or(t){return Jc(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ws(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Yc.create(t,...e)}function b(t,e,...n){if(!t)throw ws(e,...n)}function Jt(t){let e="INTERNAL ASSERTION FAILED: "+t;throw sr(e),new Error(e)}function cr(t,e){t||Jt(e)}function zf(){return $c()==="http:"||$c()==="https:"}function $c(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Wf(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zf()||Ic()||"connection"in navigator)?navigator.onLine:!0}function Kf(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var at=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,cr(n>e,"Short delay should be less than long delay!"),this.isMobile=Tc()||vc()}get(){return Wf()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Hf(t,e){cr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var ur=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Qf={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Yf=new at(3e4,6e4);function Xc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function fr(s,o,a,c){return d(this,arguments,function*(t,e,n,r,i={}){return Zc(t,i,()=>d(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let h=Wi(Object.assign({key:t.config.apiKey},l)).slice(1),g=yield t._getAdditionalHeaders();return g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode),ur.fetch()(eu(t,t.config.apiHost,n,h),Object.assign({method:e,headers:g,referrerPolicy:"no-referrer"},u))}))})}function Zc(t,e,n){return d(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Qf),e);try{let i=new ps(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw ir(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ir(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ir(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw ir(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Jc(t,l,u);qc(t,l)}}catch(i){if(i instanceof de)throw i;qc(t,"network-request-failed",{message:String(i)})}})}function eu(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Hf(t.config,i):`${t.config.apiScheme}://${i}`}var ps=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vs(this.auth,"network-request-failed")),Yf.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ir(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=vs(t,e,r);return i.customData._tokenResponse=n,i}function Jf(t,e){return d(this,null,function*(){return fr(t,"POST","/v1/accounts:delete",e)})}function tu(t,e){return d(this,null,function*(){return fr(t,"POST","/v1/accounts:lookup",e)})}function Xt(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ss(t,e=!1){return d(this,null,function*(){let n=Et(t),r=yield n.getIdToken(e),i=nu(r);b(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Xt(ds(i.auth_time)),issuedAtTime:Xt(ds(i.iat)),expirationTime:Xt(ds(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function ds(t){return Number(t)*1e3}function nu(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sr("JWT malformed, contained fewer than 3 sections"),null;try{let i=$i(n);return i?JSON.parse(i):(sr("Failed to decode base64 JWT payload"),null)}catch(i){return sr("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Gc(t){let e=nu(t);return b(e,"internal-error"),b(typeof e.exp<"u","internal-error"),b(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ms(t,e,n=!1){return d(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof de&&Xf(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Xf({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var gs=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>d(this,null,function*(){yield this.iteration()}),n)}iteration(){return d(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var en=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xt(this.lastLoginAt),this.creationTime=Xt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function lr(t){return d(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ms(t,tu(n,{idToken:r}));b(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ru(s.providerUserInfo):[],a=Zf(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new en(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,h)})}function As(t){return d(this,null,function*(){let e=Et(t);yield lr(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Zf(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ru(t){return t.map(e=>{var{providerId:n}=e,r=Jr(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function ep(t,e){return d(this,null,function*(){let n=yield Zc(t,{},()=>d(this,null,function*(){let r=Wi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=eu(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ur.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function tp(t,e){return d(this,null,function*(){return fr(t,"POST","/v2/accounts:revokeToken",Xc(t,e))})}var Zt=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){b(e.idToken,"internal-error"),b(typeof e.idToken<"u","internal-error"),b(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Gc(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){b(e.length!==0,"internal-error");let n=Gc(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return d(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(b(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return d(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield ep(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(b(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(b(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(b(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Jt("not implemented")}};function Ge(t,e){b(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var tn=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Jr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new en(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return d(this,null,function*(){let n=yield ms(this,this.stsTokenManager.getToken(this.auth,e));return b(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Ss(this,e)}reload(){return As(this)}_assign(e){this!==e&&(b(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){b(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return d(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield lr(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return d(this,null,function*(){if(Tt(this.auth.app))return Promise.reject(or(this.auth));let e=yield this.getIdToken();return yield ms(this,Jf(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let h=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,k=(u=n.createdAt)!==null&&u!==void 0?u:void 0,M=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:V,emailVerified:x,isAnonymous:Ne,providerData:ee,stsTokenManager:U}=n;b(V&&U,e,"internal-error");let H=Zt.fromJSON(this.name,U);b(typeof V=="string",e,"internal-error"),Ge(h,e.name),Ge(g,e.name),b(typeof x=="boolean",e,"internal-error"),b(typeof Ne=="boolean",e,"internal-error"),Ge(_,e.name),Ge(p,e.name),Ge(E,e.name),Ge(P,e.name),Ge(k,e.name),Ge(M,e.name);let ge=new t({uid:V,auth:e,email:g,emailVerified:x,displayName:h,isAnonymous:Ne,photoURL:p,phoneNumber:_,tenantId:E,stsTokenManager:H,createdAt:k,lastLoginAt:M});return ee&&Array.isArray(ee)&&(ge.providerData=ee.map(xe=>Object.assign({},xe))),P&&(ge._redirectEventId=P),ge}static _fromIdTokenResponse(e,n,r=!1){return d(this,null,function*(){let i=new Zt;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield lr(s),s})}static _fromGetAccountInfoResponse(e,n,r){return d(this,null,function*(){let i=n.users[0];b(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?ru(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Zt;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new en(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var jc=new Map;function ot(t){cr(t instanceof Function,"Expected a class definition");let e=jc.get(t);return e?(cr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jc.set(t,e),e)}var np=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return d(this,null,function*(){return!0})}_set(n,r){return d(this,null,function*(){this.storage[n]=r})}_get(n){return d(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return d(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),_s=np;function fs(t,e,n){return`firebase:${t}:${e}:${n}`}var hr=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=fs(this.userKey,i.apiKey,s),this.fullPersistenceKey=fs("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return d(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?tn._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return d(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return d(this,null,function*(){if(!n.length)return new t(ot(_s),e,r);let i=(yield Promise.all(n.map(u=>d(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||ot(_s),o=fs(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let h=tn._fromJSON(e,l);u!==s&&(a=h),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>d(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function zc(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(op(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rp(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cp(e))return"Blackberry";if(up(e))return"Webos";if(ip(e))return"Safari";if((e.includes("chrome/")||sp(e))&&!e.includes("edge/"))return"Chrome";if(ap(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function rp(t=fe()){return/firefox\//i.test(t)}function ip(t=fe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sp(t=fe()){return/crios\//i.test(t)}function op(t=fe()){return/iemobile/i.test(t)}function ap(t=fe()){return/android/i.test(t)}function cp(t=fe()){return/blackberry/i.test(t)}function up(t=fe()){return/webos/i.test(t)}function iu(t,e=[]){let n;switch(t){case"Browser":n=zc(fe());break;case"Worker":n=`${zc(fe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${It}/${r}`}var ys=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return d(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function lp(n){return d(this,arguments,function*(t,e={}){return fr(t,"GET","/v2/passwordPolicy",Xc(t,e))})}var hp=6,Es=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:hp,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Ts=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dr(this),this.idTokenSubscription=new dr(this),this.beforeStateQueue=new ys(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yc,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ot(n)),this._initializationPromise=this.queue(()=>d(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield hr.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return d(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return d(this,null,function*(){try{let n=yield tu(this,{idToken:e}),r=yield tn._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return d(this,null,function*(){var n;if(Tt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return b(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return d(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return d(this,null,function*(){try{yield lr(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Kf()}_delete(){return d(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return d(this,null,function*(){if(Tt(this.app))return Promise.reject(or(this));let n=e?Et(e):null;return n&&b(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return d(this,null,function*(){if(!this._deleted)return e&&b(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>d(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return d(this,null,function*(){return Tt(this.app)?Promise.reject(or(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Tt(this.app)?Promise.reject(or(this)):this.queue(()=>d(this,null,function*(){yield this.assertedPersistence.setPersistence(ot(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return d(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return d(this,null,function*(){let e=yield lp(this),n=new Es(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ke("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return d(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield tp(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return d(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return d(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ot(e)||this._popupRedirectResolver;b(n,this,"argument-error"),this.redirectPersistenceManager=yield hr.create(this,[ot(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return d(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>d(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return d(this,null,function*(){if(e===this.currentUser)return this.queue(()=>d(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(b(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return d(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return b(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return d(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return d(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&jf(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function dp(t){return Et(t)}var dr=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Sc(n=>this.observer=n)}get next(){return b(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var fp={loadJS(){return d(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pp(t){fp=t}function mp(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function gp(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ot);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var My=mp("rcb"),xy=new at(3e4,6e4);var Vy=new at(2e3,1e4);var Fy=10*60*1e3;var Uy=new at(3e4,6e4);var By=new at(5e3,15e3);var qy=encodeURIComponent("fac");var Wc="@firebase/auth",Kc="1.7.0";var Is=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return d(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){b(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function _p(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yp(t){$e(new pe("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;b(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iu(t)},u=new Ts(r,i,s,c);return gp(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$e(new pe("auth-internal",e=>{let n=dp(e.getProvider("auth").getImmediate());return(r=>new Is(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),q(Wc,Kc,_p(t)),q(Wc,Kc,"esm2017")}var Ep=5*60,$y=yc("authIdTokenMaxAge")||Ep;function Tp(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}pp({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=vs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Tp().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yp("Browser");var Em="auth";var pr=class{constructor(){return Kt(Em)}};var Tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Te={},f,Ks=Ks||{},I=Tm||self;function Cr(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function gn(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Im(t){return Object.prototype.hasOwnProperty.call(t,Rs)&&t[Rs]||(t[Rs]=++vm)}var Rs="closure_uid_"+(1e9*Math.random()>>>0),vm=0;function wm(t,e,n){return t.call.apply(t.bind,arguments)}function Sm(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function J(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?J=wm:J=Sm,J.apply(null,arguments)}function mr(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function G(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function je(){this.s=this.s,this.o=this.o}var Am=0;je.prototype.s=!1;je.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Am!=0)&&Im(this)};je.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var _u=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Hs(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function su(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Cr(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function X(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var Rm=function(){if(!I.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};I.addEventListener("test",n,e),I.removeEventListener("test",n,e)}catch{}return t}();function cn(t){return/^[\s\xa0]*$/.test(t)}function Pr(){var t=I.navigator;return t&&(t=t.userAgent)?t:""}function Ae(t){return Pr().indexOf(t)!=-1}function Qs(t){return Qs[" "](t),t}Qs[" "]=function(){};function bm(t,e){var n=mg;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Cm=Ae("Opera"),bt=Ae("Trident")||Ae("MSIE"),yu=Ae("Edge"),Ds=yu||bt,Eu=Ae("Gecko")&&!(Pr().toLowerCase().indexOf("webkit")!=-1&&!Ae("Edge"))&&!(Ae("Trident")||Ae("MSIE"))&&!Ae("Edge"),Pm=Pr().toLowerCase().indexOf("webkit")!=-1&&!Ae("Edge");function Tu(){var t=I.document;return t?t.documentMode:void 0}var Os;e:{if(gr="",_r=function(){var t=Pr();if(Eu)return/rv:([^\);]+)(\)|;)/.exec(t);if(yu)return/Edge\/([\d\.]+)/.exec(t);if(bt)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Pm)return/WebKit\/(\S+)/.exec(t);if(Cm)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),_r&&(gr=_r?_r[1]:""),bt&&(yr=Tu(),yr!=null&&yr>parseFloat(gr))){Os=String(yr);break e}Os=gr}var gr,_r,yr,ks;I.document&&bt?(bs=Tu(),ks=bs||parseInt(Os,10)||void 0):ks=void 0;var bs,Nm=ks;function un(t,e){if(X.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Eu){e:{try{Qs(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Dm[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&un.$.h.call(this)}}G(un,X);var Dm={2:"touch",3:"pen",4:"mouse"};un.prototype.h=function(){un.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var _n="closure_listenable_"+(1e6*Math.random()|0),Om=0;function km(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Om,this.fa=this.ia=!1}function Nr(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ys(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function Lm(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function Iu(t){let e={};for(let n in t)e[n]=t[n];return e}var ou="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vu(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<ou.length;s++)n=ou[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Dr(t){this.src=t,this.g={},this.h=0}Dr.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Ms(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new km(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Ls(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=_u(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Nr(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ms(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Js="closure_lm_"+(1e6*Math.random()|0),Cs={};function wu(t,e,n,r,i){if(r&&r.once)return Au(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)wu(t,e[s],n,r,i);return null}return n=eo(n),t&&t[_n]?t.O(e,n,gn(r)?!!r.capture:!!r,i):Su(t,e,n,!1,r,i)}function Su(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=gn(i)?!!i.capture:!!i,a=Zs(t);if(a||(t[Js]=a=new Dr(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=Mm(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Rm||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(bu(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Mm(){function t(n){return e.call(t.src,t.listener,n)}let e=xm;return t}function Au(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Au(t,e[s],n,r,i);return null}return n=eo(n),t&&t[_n]?t.P(e,n,gn(r)?!!r.capture:!!r,i):Su(t,e,n,!0,r,i)}function Ru(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Ru(t,e[s],n,r,i);else r=gn(r)?!!r.capture:!!r,n=eo(n),t&&t[_n]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Ms(s,n,r,i),-1<n&&(Nr(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Zs(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ms(e,n,r,i)),(n=-1<t?e[t]:null)&&Xs(n))}function Xs(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[_n])Ls(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(bu(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Zs(e))?(Ls(n,t),n.h==0&&(n.src=null,e[Js]=null)):Nr(t)}}}function bu(t){return t in Cs?Cs[t]:Cs[t]="on"+t}function xm(t,e){if(t.fa)t=!0;else{e=new un(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Xs(t),t=n.call(r,e)}return t}function Zs(t){return t=t[Js],t instanceof Dr?t:null}var Ps="__closure_events_fn_"+(1e9*Math.random()>>>0);function eo(t){return typeof t=="function"?t:(t[Ps]||(t[Ps]=function(e){return t.handleEvent(e)}),t[Ps])}function $(){je.call(this),this.i=new Dr(this),this.S=this,this.J=null}G($,je);$.prototype[_n]=!0;$.prototype.removeEventListener=function(t,e,n,r){Ru(this,t,e,n,r)};function W(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new X(e,t);else if(e instanceof X)e.target=e.target||t;else{var i=e;e=new X(r,t),vu(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Er(o,r,!0,e)&&i}if(o=e.g=t,i=Er(o,r,!0,e)&&i,i=Er(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Er(o,r,!1,e)&&i}$.prototype.N=function(){if($.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Nr(n[r]);delete t.g[e],t.h--}}this.J=null};$.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};$.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Er(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Ls(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var to=I.JSON.stringify,xs=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function Vm(){var t=no;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Vs=class{constructor(){this.h=this.g=null}add(e,n){let r=Cu.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},Cu=new xs(()=>new Fs,t=>t.reset()),Fs=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function Fm(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Um(t){I.setTimeout(()=>{throw t},0)}var ln,hn=!1,no=new Vs,Pu=()=>{let t=I.Promise.resolve(void 0);ln=()=>{t.then(Bm)}},Bm=()=>{for(var t;t=Vm();){try{t.h.call(t.g)}catch(n){Um(n)}var e=Cu;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}hn=!1};function Or(t,e){$.call(this),this.h=t||1,this.g=e||I,this.j=J(this.qb,this),this.l=Date.now()}G(Or,$);f=Or.prototype;f.ga=!1;f.T=null;f.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),W(this,"tick"),this.ga&&(ro(this),this.start()))}};f.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ro(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}f.N=function(){Or.$.N.call(this),ro(this),delete this.g};function io(t,e,n){if(typeof t=="function")n&&(t=J(t,n));else if(t&&typeof t.handleEvent=="function")t=J(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:I.setTimeout(t,e||0)}function Nu(t){t.g=io(()=>{t.g=null,t.i&&(t.i=!1,Nu(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Us=class extends je{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Nu(this)}N(){super.N(),this.g&&(I.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function dn(t){je.call(this),this.h=t,this.g={}}G(dn,je);var au=[];function Du(t,e,n,r){Array.isArray(n)||(n&&(au[0]=n.toString()),n=au);for(var i=0;i<n.length;i++){var s=wu(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Ou(t){Ys(t.g,function(e,n){this.g.hasOwnProperty(n)&&Xs(e)},t),t.g={}}dn.prototype.N=function(){dn.$.N.call(this),Ou(this)};dn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function kr(){this.g=!0}kr.prototype.Ea=function(){this.g=!1};function qm(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&h[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function $m(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function At(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+jm(t,n)+(r?" "+r:"")})}function Gm(t,e){t.info(function(){return"TIMEOUT: "+e})}kr.prototype.info=function(){};function jm(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return to(n)}catch{return e}}var ht={},cu=null;function Lr(){return cu=cu||new $}ht.Ta="serverreachability";function ku(t){X.call(this,ht.Ta,t)}G(ku,X);function fn(t){let e=Lr();W(e,new ku(e))}ht.STAT_EVENT="statevent";function Lu(t,e){X.call(this,ht.STAT_EVENT,t),this.stat=e}G(Lu,X);function Z(t){let e=Lr();W(e,new Lu(e,t))}ht.Ua="timingevent";function Mu(t,e){X.call(this,ht.Ua,t),this.size=e}G(Mu,X);function yn(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return I.setTimeout(function(){t()},e)}var Mr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},xu={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function so(){}so.prototype.h=null;function uu(t){return t.h||(t.h=t.i())}function Vu(){}var En={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function oo(){X.call(this,"d")}G(oo,X);function ao(){X.call(this,"c")}G(ao,X);var Bs;function xr(){}G(xr,so);xr.prototype.g=function(){return new XMLHttpRequest};xr.prototype.i=function(){return{}};Bs=new xr;function Tn(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new dn(this),this.P=zm,t=Ds?125:void 0,this.V=new Or(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Fu}function Fu(){this.i=null,this.g="",this.h=!1}var zm=45e3,Uu={},qs={};f=Tn.prototype;f.setTimeout=function(t){this.P=t};function $s(t,e,n){t.L=1,t.A=Fr(Me(e)),t.u=n,t.S=!0,Bu(t,null)}function Bu(t,e){t.G=Date.now(),In(t),t.B=Me(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),Hu(n.i,"t",r),t.o=0,n=t.l.J,t.h=new Fu,t.g=ml(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Us(J(t.Pa,t,t.g),t.O)),Du(t.U,t.g,"readystatechange",t.nb),e=t.I?Iu(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),fn(),qm(t.j,t.v,t.B,t.m,t.W,t.u)}f.nb=function(t){t=t.target;let e=this.M;e&&Re(t)==3?e.l():this.Pa(t)};f.Pa=function(t){try{if(t==this.g)e:{let l=Re(this.g);var e=this.g.Ia();let h=this.g.da();if(!(3>l)&&(l!=3||Ds||this.g&&(this.h.h||this.g.ja()||fu(this.g)))){this.J||l!=4||e==7||(e==8||0>=h?fn(3):fn(2)),Vr(this);var n=this.g.da();this.ca=n;t:if(qu(this)){var r=fu(this.g);t="";var i=r.length,s=Re(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ct(this),an(this);var o="";break t}this.h.i=new I.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,$m(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cn(a)){var u=a;break t}}u=null}if(n=u)At(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gs(this,n);else{this.i=!1,this.s=3,Z(12),ct(this),an(this);break e}}this.S?($u(this,l,o),Ds&&this.i&&l==3&&(Du(this.U,this.V,"tick",this.mb),this.V.start())):(At(this.j,this.m,o,null),Gs(this,o)),l==4&&ct(this),this.i&&!this.J&&(l==4?hl(this.l,this):(this.i=!1,In(this)))}else dg(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Z(12)):(this.s=0,Z(13)),ct(this),an(this)}}}catch{}finally{}};function qu(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function $u(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=Wm(t,n),i==qs){e==4&&(t.s=4,Z(14),r=!1),At(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Uu){t.s=4,Z(15),At(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else At(t.j,t.m,i,null),Gs(t,i);qu(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Z(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),po(e),e.M=!0,Z(11))):(At(t.j,t.m,n,"[Invalid Chunked Response]"),ct(t),an(t))}f.mb=function(){if(this.g){var t=Re(this.g),e=this.g.ja();this.o<e.length&&(Vr(this),$u(this,t,e),this.i&&t!=4&&In(this))}};function Wm(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?qs:(n=Number(e.substring(n,r)),isNaN(n)?Uu:(r+=1,r+n>e.length?qs:(e=e.slice(r,r+n),t.o=r+n,e)))}f.cancel=function(){this.J=!0,ct(this)};function In(t){t.Y=Date.now()+t.P,Gu(t,t.P)}function Gu(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=yn(J(t.lb,t),e)}function Vr(t){t.C&&(I.clearTimeout(t.C),t.C=null)}f.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(Gm(this.j,this.B),this.L!=2&&(fn(),Z(17)),ct(this),this.s=2,an(this)):Gu(this,this.Y-t)};function an(t){t.l.H==0||t.J||hl(t.l,t)}function ct(t){Vr(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,ro(t.V),Ou(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Gs(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||js(n.i,t))){if(!t.K&&js(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Sr(n),qr(n);else break e;fo(n),Z(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=yn(J(n.ib,n),6e3));if(1>=Ju(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ut(n,11)}else if((t.K||n.g==t)&&Sr(n),!cn(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));let g=u[5];g!=null&&typeof g=="number"&&0<g&&(r=1.5*g,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let _=t.g;if(_){let p=_.g?_.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(co(s,s.h),s.h=null))}if(r.F){let E=_.g?_.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,D(r.I,r.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=pl(r,r.J?r.pa:null,r.Y),o.K){Xu(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Vr(a),In(a)),r.g=o}else ul(r);0<n.j.length&&$r(n)}else u[0]!="stop"&&u[0]!="close"||ut(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ut(n,7):ho(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}fn(4)}catch{}}function Km(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Cr(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Hm(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Cr(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function ju(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Cr(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Hm(t),r=Km(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qm(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function lt(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof lt){this.h=t.h,vr(this,t.j),this.s=t.s,this.g=t.g,wr(this,t.m),this.l=t.l;var e=t.i,n=new pn;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),lu(this,n),this.o=t.o}else t&&(e=String(t).match(zu))?(this.h=!1,vr(this,e[1]||"",!0),this.s=sn(e[2]||""),this.g=sn(e[3]||"",!0),wr(this,e[4]),this.l=sn(e[5]||"",!0),lu(this,e[6]||"",!0),this.o=sn(e[7]||"")):(this.h=!1,this.i=new pn(null,this.h))}lt.prototype.toString=function(){var t=[],e=this.j;e&&t.push(on(e,hu,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(on(e,hu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(on(n,n.charAt(0)=="/"?Xm:Jm,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",on(n,eg)),t.join("")};function Me(t){return new lt(t)}function vr(t,e,n){t.j=n?sn(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function wr(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function lu(t,e,n){e instanceof pn?(t.i=e,tg(t.i,t.h)):(n||(e=on(e,Zm)),t.i=new pn(e,t.h))}function D(t,e,n){t.i.set(e,n)}function Fr(t){return D(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function sn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function on(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Ym),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ym(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var hu=/[#\/\?@]/g,Jm=/[#\?:]/g,Xm=/[#\?]/g,Zm=/[#\?@]/g,eg=/#/g;function pn(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ze(t){t.g||(t.g=new Map,t.h=0,t.i&&Qm(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}f=pn.prototype;f.add=function(t,e){ze(this),this.i=null,t=Ct(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Wu(t,e){ze(t),e=Ct(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Ku(t,e){return ze(t),e=Ct(t,e),t.g.has(e)}f.forEach=function(t,e){ze(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};f.ta=function(){ze(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};f.Z=function(t){ze(this);let e=[];if(typeof t=="string")Ku(this,t)&&(e=e.concat(this.g.get(Ct(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};f.set=function(t,e){return ze(this),this.i=null,t=Ct(this,t),Ku(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};f.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Hu(t,e,n){Wu(t,e),0<n.length&&(t.i=null,t.g.set(Ct(t,e),Hs(n)),t.h+=n.length)}f.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ct(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function tg(t,e){e&&!t.j&&(ze(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Wu(this,r),Hu(this,i,n))},t)),t.j=e}var ng=class{constructor(t,e){this.g=t,this.map=e}};function Qu(t){this.l=t||rg,I.PerformanceNavigationTiming?(t=I.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(I.g&&I.g.Ka&&I.g.Ka()&&I.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rg=10;function Yu(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Ju(t){return t.h?1:t.g?t.g.size:0}function js(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function co(t,e){t.g?t.g.add(e):t.h=e}function Xu(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Qu.prototype.cancel=function(){if(this.i=Zu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function Zu(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Hs(t.i)}var ig=class{stringify(t){return I.JSON.stringify(t,void 0)}parse(t){return I.JSON.parse(t,void 0)}};function sg(){this.g=new ig}function og(t,e,n){let r=n||"";try{ju(t,function(i,s){let o=i;gn(i)&&(o=to(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ag(t,e){let n=new kr;if(I.Image){let r=new Image;r.onload=mr(Tr,n,r,"TestLoadImage: loaded",!0,e),r.onerror=mr(Tr,n,r,"TestLoadImage: error",!1,e),r.onabort=mr(Tr,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=mr(Tr,n,r,"TestLoadImage: timeout",!1,e),I.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Tr(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function vn(t){this.l=t.ec||null,this.j=t.ob||!1}G(vn,so);vn.prototype.g=function(){return new Ur(this.l,this.j)};vn.prototype.i=function(t){return function(){return t}}({});function Ur(t,e){$.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=uo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}G(Ur,$);var uo=0;f=Ur.prototype;f.open=function(t,e){if(this.readyState!=uo)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,mn(this)};f.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||I).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};f.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wn(this)),this.readyState=uo};f.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,mn(this)),this.g&&(this.readyState=3,mn(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof I.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;el(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function el(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}f.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?wn(this):mn(this),this.readyState==3&&el(this)}};f.Za=function(t){this.g&&(this.response=this.responseText=t,wn(this))};f.Ya=function(t){this.g&&(this.response=t,wn(this))};f.ka=function(){this.g&&wn(this)};function wn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,mn(t)}f.setRequestHeader=function(t,e){this.v.append(t,e)};f.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};f.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function mn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var cg=I.JSON.parse;function L(t){$.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=tl,this.L=this.M=!1}G(L,$);var tl="",ug=/^https?$/i,lg=["POST","PUT"];f=L.prototype;f.Oa=function(t){this.M=t};f.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Bs.g(),this.C=this.u?uu(this.u):uu(Bs),this.g.onreadystatechange=J(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){du(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=I.FormData&&t instanceof I.FormData,!(0<=_u(lg,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{il(this),0<this.B&&((this.L=hg(this.g))?(this.g.timeout=this.B,this.g.ontimeout=J(this.ua,this)):this.A=io(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){du(this,s)}};function hg(t){return bt&&typeof t.timeout=="number"&&t.ontimeout!==void 0}f.ua=function(){typeof Ks<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,W(this,"timeout"),this.abort(8))};function du(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,nl(t),Br(t)}function nl(t){t.F||(t.F=!0,W(t,"complete"),W(t,"error"))}f.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,W(this,"complete"),W(this,"abort"),Br(this))};f.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Br(this,!0)),L.$.N.call(this)};f.La=function(){this.s||(this.G||this.v||this.l?rl(this):this.kb())};f.kb=function(){rl(this)};function rl(t){if(t.h&&typeof Ks<"u"&&(!t.C[1]||Re(t)!=4||t.da()!=2)){if(t.v&&Re(t)==4)io(t.La,0,t);else if(W(t,"readystatechange"),Re(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(zu)[1]||null;!i&&I.self&&I.self.location&&(i=I.self.location.protocol.slice(0,-1)),r=!ug.test(i?i.toLowerCase():"")}n=r}if(n)W(t,"complete"),W(t,"success");else{t.m=6;try{var s=2<Re(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",nl(t)}}finally{Br(t)}}}}function Br(t,e){if(t.g){il(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||W(t,"ready");try{n.onreadystatechange=r}catch{}}}function il(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(I.clearTimeout(t.A),t.A=null)}f.isActive=function(){return!!this.g};function Re(t){return t.g?t.g.readyState:0}f.da=function(){try{return 2<Re(this)?this.g.status:-1}catch{return-1}};f.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};f.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),cg(e)}};function fu(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case tl:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function dg(t){let e={};t=(t.g&&2<=Re(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(cn(t[r]))continue;var n=Fm(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}Lm(e,function(r){return r.join(", ")})}f.Ia=function(){return this.m};f.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function sl(t){let e="";return Ys(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function lo(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=sl(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):D(t,e,n))}function nn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ol(t){this.Ga=0,this.j=[],this.l=new kr,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=nn("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=nn("baseRetryDelayMs",5e3,t),this.hb=nn("retryDelaySeedMs",1e4,t),this.eb=nn("forwardChannelMaxRetries",2,t),this.xa=nn("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Qu(t&&t.concurrentRequestLimit),this.Ja=new sg,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}f=ol.prototype;f.ra=8;f.H=1;function ho(t){if(al(t),t.H==3){var e=t.W++,n=Me(t.I);if(D(n,"SID",t.K),D(n,"RID",e),D(n,"TYPE","terminate"),Sn(t,n),e=new Tn(t,t.l,e),e.L=2,e.A=Fr(Me(n)),n=!1,I.navigator&&I.navigator.sendBeacon)try{n=I.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&I.Image&&(new Image().src=e.A,n=!0),n||(e.g=ml(e.l,null),e.g.ha(e.A)),e.G=Date.now(),In(e)}fl(t)}function qr(t){t.g&&(po(t),t.g.cancel(),t.g=null)}function al(t){qr(t),t.u&&(I.clearTimeout(t.u),t.u=null),Sr(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&I.clearTimeout(t.m),t.m=null)}function $r(t){if(!Yu(t.i)&&!t.m){t.m=!0;var e=t.Na;ln||Pu(),hn||(ln(),hn=!0),no.add(e,t),t.C=0}}function fg(t,e){return Ju(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=yn(J(t.Na,t,e),dl(t,t.C)),t.C++,!0)}f.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Tn(this,this.l,t),s=this.s;if(this.U&&(s?(s=Iu(s),vu(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=cl(this,i,e),n=Me(this.I),D(n,"RID",t),D(n,"CVER",22),this.F&&D(n,"X-HTTP-Session-Id",this.F),Sn(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(sl(s)))+"&"+e:this.o&&lo(n,this.o,s)),co(this.i,i),this.bb&&D(n,"TYPE","init"),this.P?(D(n,"$req",e),D(n,"SID","null"),i.aa=!0,$s(i,n,null)):$s(i,n,e),this.H=2}}else this.H==3&&(t?pu(this,t):this.j.length==0||Yu(this.i)||pu(this))};function pu(t,e){var n;e?n=e.m:n=t.W++;let r=Me(t.I);D(r,"SID",t.K),D(r,"RID",n),D(r,"AID",t.V),Sn(t,r),t.o&&t.s&&lo(r,t.o,t.s),n=new Tn(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=cl(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),co(t.i,n),$s(n,r,e)}function Sn(t,e){t.na&&Ys(t.na,function(n,r){D(e,r,n)}),t.h&&ju({},function(n,r){D(e,r,n)})}function cl(t,e,n){n=Math.min(t.j.length,n);var r=t.h?J(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{og(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function ul(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ln||Pu(),hn||(ln(),hn=!0),no.add(e,t),t.A=0}}function fo(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=yn(J(t.Ma,t),dl(t,t.A)),t.A++,!0)}f.Ma=function(){if(this.u=null,ll(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=yn(J(this.jb,this),t)}};f.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Z(10),qr(this),ll(this))};function po(t){t.B!=null&&(I.clearTimeout(t.B),t.B=null)}function ll(t){t.g=new Tn(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Me(t.wa);D(e,"RID","rpc"),D(e,"SID",t.K),D(e,"AID",t.V),D(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&D(e,"TO",t.qa),D(e,"TYPE","xmlhttp"),Sn(t,e),t.o&&t.s&&lo(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Fr(Me(e)),n.u=null,n.S=!0,Bu(n,t)}f.ib=function(){this.v!=null&&(this.v=null,qr(this),fo(this),Z(19))};function Sr(t){t.v!=null&&(I.clearTimeout(t.v),t.v=null)}function hl(t,e){var n=null;if(t.g==e){Sr(t),po(t),t.g=null;var r=2}else if(js(t.i,e))n=e.F,Xu(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Lr(),W(r,new Mu(r,n)),$r(t)}else ul(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&fg(t,e)||r==2&&fo(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ut(t,5);break;case 4:ut(t,10);break;case 3:ut(t,6);break;default:ut(t,2)}}}function dl(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ut(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=J(t.pb,t);n||(n=new lt("//www.google.com/images/cleardot.gif"),I.location&&I.location.protocol=="http"||vr(n,"https"),Fr(n)),ag(n.toString(),r)}else Z(2);t.H=0,t.h&&t.h.za(e),fl(t),al(t)}f.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Z(2)):(this.l.info("Failed to ping google.com"),Z(1))};function fl(t){if(t.H=0,t.ma=[],t.h){let e=Zu(t.i);(e.length!=0||t.j.length!=0)&&(su(t.ma,e),su(t.ma,t.j),t.i.i.length=0,Hs(t.j),t.j.length=0),t.h.ya()}}function pl(t,e,n){var r=n instanceof lt?Me(n):new lt(n);if(r.g!="")e&&(r.g=e+"."+r.g),wr(r,r.m);else{var i=I.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new lt(null);r&&vr(s,r),e&&(s.g=e),i&&wr(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&D(r,n,e),D(r,"VER",t.ra),Sn(t,r),r}function ml(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new L(new vn({ob:n})):new L(t.va),e.Oa(t.J),e}f.isActive=function(){return!!this.h&&this.h.isActive(this)};function gl(){}f=gl.prototype;f.Ba=function(){};f.Aa=function(){};f.za=function(){};f.ya=function(){};f.isActive=function(){return!0};f.Va=function(){};function Ar(){if(bt&&!(10<=Number(Nm)))throw Error("Environmental error: no available transport.")}Ar.prototype.g=function(t,e){return new ce(t,e)};function ce(t,e){$.call(this),this.g=new ol(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!cn(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!cn(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Pt(this)}G(ce,$);ce.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Z(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=pl(t,null,t.Y),$r(t)};ce.prototype.close=function(){ho(this.g)};ce.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=to(t),t=n);e.j.push(new ng(e.fb++,t)),e.H==3&&$r(e)};ce.prototype.N=function(){this.g.h=null,delete this.j,ho(this.g),delete this.g,ce.$.N.call(this)};function _l(t){oo.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}G(_l,oo);function yl(){ao.call(this),this.status=1}G(yl,ao);function Pt(t){this.g=t}G(Pt,gl);Pt.prototype.Ba=function(){W(this.g,"a")};Pt.prototype.Aa=function(t){W(this.g,new _l(t))};Pt.prototype.za=function(t){W(this.g,new yl)};Pt.prototype.ya=function(){W(this.g,"b")};function pg(){this.blockSize=-1}function Ee(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}G(Ee,pg);Ee.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ns(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Ee.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Ns(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Ns(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Ns(this,r),i=0;break}}this.h=i,this.i+=e};Ee.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function C(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var mg={};function mo(t){return-128<=t&&128>t?bm(t,function(e){return new C([e|0],0>e?-1:0)}):new C([t|0],0>t?-1:0)}function be(t){if(isNaN(t)||!isFinite(t))return Rt;if(0>t)return z(be(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=zs;return new C(e,0)}function El(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return z(El(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=be(Math.pow(e,8)),r=Rt,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=be(Math.pow(e,s)),r=r.R(s).add(be(o))):(r=r.R(n),r=r.add(be(o)))}return r}var zs=4294967296,Rt=mo(0),Ws=mo(1),mu=mo(16777216);f=C.prototype;f.ea=function(){if(me(this))return-z(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:zs+r)*e,e*=zs}return t};f.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Le(this))return"0";if(me(this))return"-"+z(this).toString(t);for(var e=be(Math.pow(t,6)),n=this,r="";;){var i=br(n,e).g;n=Rr(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Le(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};f.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Le(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function me(t){return t.h==-1}f.X=function(t){return t=Rr(this,t),me(t)?-1:Le(t)?0:1};function z(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new C(n,~t.h).add(Ws)}f.abs=function(){return me(this)?z(this):this};f.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new C(n,n[n.length-1]&-2147483648?-1:0)};function Rr(t,e){return t.add(z(e))}f.R=function(t){if(Le(this)||Le(t))return Rt;if(me(this))return me(t)?z(this).R(z(t)):z(z(this).R(t));if(me(t))return z(this.R(z(t)));if(0>this.X(mu)&&0>t.X(mu))return be(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,Ir(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Ir(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Ir(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Ir(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new C(n,0)};function Ir(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function rn(t,e){this.g=t,this.h=e}function br(t,e){if(Le(e))throw Error("division by zero");if(Le(t))return new rn(Rt,Rt);if(me(t))return e=br(z(t),e),new rn(z(e.g),z(e.h));if(me(e))return e=br(t,z(e)),new rn(z(e.g),e.h);if(30<t.g.length){if(me(t)||me(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ws,r=e;0>=r.X(t);)n=gu(n),r=gu(r);var i=St(n,1),s=St(r,1);for(r=St(r,2),n=St(n,2);!Le(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=St(r,1),n=St(n,1)}return e=Rr(t,i.R(e)),new rn(i,e)}for(i=Rt;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=be(n),o=s.R(e);me(o)||0<o.X(t);)n-=r,s=be(n),o=s.R(e);Le(s)&&(s=Ws),i=i.add(s),t=Rr(t,o)}return new rn(i,t)}f.gb=function(t){return br(this,t).h};f.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new C(n,this.h&t.h)};f.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new C(n,this.h|t.h)};f.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new C(n,this.h^t.h)};function gu(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new C(n,t.h)}function St(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new C(i,t.h)}Ar.prototype.createWebChannel=Ar.prototype.g;ce.prototype.send=ce.prototype.u;ce.prototype.open=ce.prototype.m;ce.prototype.close=ce.prototype.close;Mr.NO_ERROR=0;Mr.TIMEOUT=8;Mr.HTTP_ERROR=6;xu.COMPLETE="complete";Vu.EventType=En;En.OPEN="a";En.CLOSE="b";En.ERROR="c";En.MESSAGE="d";$.prototype.listen=$.prototype.O;L.prototype.listenOnce=L.prototype.P;L.prototype.getLastError=L.prototype.Sa;L.prototype.getLastErrorCode=L.prototype.Ia;L.prototype.getStatus=L.prototype.da;L.prototype.getResponseJson=L.prototype.Wa;L.prototype.getResponseText=L.prototype.ja;L.prototype.send=L.prototype.ha;L.prototype.setWithCredentials=L.prototype.Oa;Ee.prototype.digest=Ee.prototype.l;Ee.prototype.reset=Ee.prototype.reset;Ee.prototype.update=Ee.prototype.j;C.prototype.add=C.prototype.add;C.prototype.multiply=C.prototype.R;C.prototype.modulo=C.prototype.gb;C.prototype.compare=C.prototype.X;C.prototype.toNumber=C.prototype.ea;C.prototype.toString=C.prototype.toString;C.prototype.getBits=C.prototype.D;C.fromNumber=be;C.fromString=El;var gg=Te.createWebChannelTransport=function(){return new Ar},_g=Te.getStatEventTarget=function(){return Lr()},yg=Te.ErrorCode=Mr,Eg=Te.EventType=xu,Tg=Te.Event=ht,Ig=Te.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},OE=Te.FetchXmlHttpFactory=vn,vg=Te.WebChannel=Vu,wg=Te.XhrIo=L,Sg=Te.Md5=Ee,Tl=Te.Integer=C;var Il="@firebase/firestore";var j=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};j.UNAUTHENTICATED=new j(null),j.GOOGLE_CREDENTIALS=new j("google-credentials-uid"),j.FIRST_PARTY=new j("first-party-uid"),j.MOCK_USER=new j("mock-user");var An="10.10.0";var Dt=new Be("@firebase/firestore");function ue(t,...e){if(Dt.logLevel<=R.DEBUG){let n=e.map(Vo);Dt.debug(`Firestore (${An}): ${t}`,...n)}}function xo(t,...e){if(Dt.logLevel<=R.ERROR){let n=e.map(Vo);Dt.error(`Firestore (${An}): ${t}`,...n)}}function Ag(t,...e){if(Dt.logLevel<=R.WARN){let n=e.map(Vo);Dt.warn(`Firestore (${An}): ${t}`,...n)}}function Vo(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ie(t="Unexpected state"){let e=`FIRESTORE (${An}) INTERNAL ASSERTION FAILED: `+t;throw xo(e),new Error(e)}function _o(t,e){t||ie()}var K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=class extends de{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ke=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Gr=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},yo=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(j.UNAUTHENTICATED))}shutdown(){}},Eo=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},To=class{constructor(e){this.t=e,this.currentUser=j.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new Ke;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ke,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>d(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ke)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_o(typeof r.accessToken=="string"),new Gr(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return _o(e===null||typeof e=="string"),new j(e)}},Io=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=j.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},vo=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Io(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(j.FIRST_PARTY))}shutdown(){}invalidateToken(){}},wo=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},So=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_o(typeof n.token=="string"),this.R=n.token,new wo(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Rg(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ao=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Rg(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function bl(t,e){return t<e?-1:t>e?1:0}var Ro=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(),r===void 0?r=e.length-n:r>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},We=class t extends Ro{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new F(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}};var dt=class t{constructor(e){this.path=e}static fromPath(e){return new t(We.fromString(e))}static fromName(e){return new t(We.fromString(e).popFirst(5))}static empty(){return new t(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new We(e.slice()))}};var bo=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};bo.UNKNOWN_ID=-1;function Cl(t){return t.name==="IndexedDbTransactionError"}function bg(t){return t===0&&1/t==-1/0}var Cg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],GE=[...Cg,"documentOverlays"],Pg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ng=Pg,jE=[...Ng,"indexConfiguration","indexState","indexEntries"];var Ot=class t{constructor(e,n){this.comparator=e,this.root=n||Pe.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pe.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nt(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nt(this.root,e,this.comparator,!0)}},Nt=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Pe=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();let e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}};Pe.EMPTY=null,Pe.RED=!0,Pe.BLACK=!1;Pe.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Pe(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var jr=class t{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zr(this.data.getIterator())}getIteratorFrom(e){return new zr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},zr=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Co=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var kt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Co("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};kt.EMPTY_BYTE_STRING=new kt("");var WE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vl(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Dg(t){return typeof t=="string"?kt.fromBase64String(t):kt.fromUint8Array(t)}var Po=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},No=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function Og(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var KE=new Ot(dt.comparator);var HE=new Ot(dt.comparator);var QE=new Ot(dt.comparator),YE=new jr(dt.comparator);var JE=new jr(bl);var wl,w;(w=wl||(wl={}))[w.OK=0]="OK",w[w.CANCELLED=1]="CANCELLED",w[w.UNKNOWN=2]="UNKNOWN",w[w.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",w[w.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",w[w.NOT_FOUND=5]="NOT_FOUND",w[w.ALREADY_EXISTS=6]="ALREADY_EXISTS",w[w.PERMISSION_DENIED=7]="PERMISSION_DENIED",w[w.UNAUTHENTICATED=16]="UNAUTHENTICATED",w[w.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",w[w.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",w[w.ABORTED=10]="ABORTED",w[w.OUT_OF_RANGE=11]="OUT_OF_RANGE",w[w.UNIMPLEMENTED=12]="UNIMPLEMENTED",w[w.INTERNAL=13]="INTERNAL",w[w.UNAVAILABLE=14]="UNAVAILABLE",w[w.DATA_LOSS=15]="DATA_LOSS";var XE=new Tl([4294967295,4294967295],0);var Wr=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(vl(e.integerValue));else if("doubleValue"in e){let r=vl(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),bg(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Dg(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?Og(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):ie()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),dt.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Wr.bt=new Wr;var ZE=new Uint8Array(0);var Ce=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Ce.DEFAULT_COLLECTION_PERCENTILE=10,Ce.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ce.DEFAULT=new Ce(41943040,Ce.DEFAULT_COLLECTION_PERCENTILE,Ce.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ce.DISABLED=new Ce(-1,0,0);function go(){return typeof document<"u"?document:null}var Do=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var Oo=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ke,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function kg(t,e){if(xo("AsyncQueue",`${e}: ${t}`),Cl(t))return new F(K.UNAVAILABLE,`${e}: ${t}`);throw t}var Sl,Al;(Al=Sl||(Sl={})).j_="default",Al.Cache="cache";var ko=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=j.UNAUTHENTICATED,this.clientId=Ao.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>d(this,null,function*(){ue("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(ue("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(K.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ke;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>d(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=kg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Pl(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Rl=new Map;function Lg(t,e,n,r){if(e===!0&&r===!0)throw new F(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Mg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function xg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Mg(t);throw new F(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Kr=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new F(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new F(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pl((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new F(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new F(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new F(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Hr=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kr({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new F(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new F(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kr(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yo;switch(r.type){case"firstParty":return new vo(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=Rl.get(n);r&&(ue("ComponentProvider","Removing Datastore"),Rl.delete(n),r.terminate())}(this),Promise.resolve()}};function Nl(t,e,n,r={}){var i;let s=(t=xg(t,Hr))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ag("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=j.MOCK_USER;else{a=Ec(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new F(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new j(u)}t._authCredentials=new Eo(new Gr(a,c))}}var Lo=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Do(this,"async_queue_retry"),this.cu=()=>{let n=go();n&&ue("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=go();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let n=go();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let n=new Ke;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return d(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Cl(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw xo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);let i=Oo.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&ie()}verifyOperationInProgress(){}Tu(){return d(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let n=this.su.indexOf(e);this.su.splice(n,1)}};var Mo=class extends Hr{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Lo}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Vg(this),this._firestoreClient.terminate()}};function Dl(t,e){let n=typeof t=="object"?t:zt(),r=typeof t=="string"?t:e||"(default)",i=as(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=_c("firestore");s&&Nl(i,...s)}return i}function Vg(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new Po(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Pl(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new ko(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var eT=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(i){An=i})(It),$e(new pe("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Mo(new To(r.getProvider("auth-internal")),new So(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new F(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new No(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),q(Il,"4.5.1",e),q(Il,"4.5.1","esm2017")})();var Rn=class{constructor(e){return e}},Ol="firestore",Fo=class{constructor(){return Kt(Ol)}};var Uo=new Cn("angularfire2.firestore-instances");function Fg(t,e){let n=ls(Ol,t,e);return n&&new Rn(n)}function Ug(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Rn(r)}}var Bg={provide:Fo,deps:[[new Fe,Uo]]},qg={provide:Rn,useFactory:Fg,deps:[[new Fe,Uo],st]},$g=(()=>{class t{constructor(){q("angularfire",wt.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=re({type:t});static \u0275inj=ne({providers:[qg,Bg]})}return t})();function kl(t,...e){return{ngModule:$g,providers:[{provide:Uo,useFactory:Ug(t),multi:!0,deps:[De,Pn,Ht,Yt,[new Fe,pr],[new Fe,Wt],...e]}]}}var Ll=Qt(Dl,!0);function Gg(t){return()=>new Promise(e=>{t.getUserByToken().subscribe().add(e)})}var Ml=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=re({type:t,bootstrap:[hc]});static \u0275inj=ne({providers:[{provide:aa,useFactory:Gg,multi:!0,deps:[Ln]}],imports:[On,ec,ya.forRoot(),pa,nc,Lt.isMockEnabled?tc.forRoot(dc,{passThruUnknownUrl:!0,dataEncapsulation:!1}):[],ic,Ea.forRoot(),Ta,Uc(()=>Bc(Lt.firebase)),kl(()=>Ll())]})}return t})();Lt.production&&void 0;ga().bootstrapModule(Ml).catch(t=>console.error(t));
